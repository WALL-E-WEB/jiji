"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2],{9108:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-0931454c",path:"/study/19.Flutter/flutter_util.html",title:"flutter",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"生命周期",slug:"生命周期",children:[]},{level:2,title:"启动流程",slug:"启动流程",children:[]},{level:2,title:"WidgetsBindingObserver",slug:"widgetsbindingobserver",children:[{level:3,title:"方法",slug:"方法",children:[]},{level:3,title:"使用",slug:"使用",children:[]},{level:3,title:"帧绘制回调",slug:"帧绘制回调",children:[]}]},{level:2,title:"绘制流程",slug:"绘制流程",children:[{level:3,title:"element类型",slug:"element类型",children:[]}]},{level:2,title:"InheritedWidget",slug:"inheritedwidget-1",children:[]},{level:2,title:"Notification",slug:"notification",children:[]},{level:2,title:"事件event",slug:"事件event",children:[]},{level:2,title:"StatelessWidget",slug:"statelesswidget",children:[]},{level:2,title:"StatefullWidget",slug:"statefullwidget",children:[]},{level:2,title:"MaterialApp",slug:"materialapp",children:[]},{level:2,title:"Scaffold",slug:"scaffold",children:[]},{level:2,title:"appbar",slug:"appbar",children:[]},{level:2,title:"显示隐藏状态",slug:"显示隐藏状态",children:[]},{level:2,title:"底部导航栏",slug:"底部导航栏",children:[]},{level:2,title:"SliverAppBar",slug:"sliverappbar",children:[]},{level:2,title:"下拉框",slug:"下拉框",children:[]},{level:2,title:"弹窗",slug:"弹窗",children:[{level:3,title:"Dialog",slug:"dialog",children:[]},{level:3,title:"AlertDialog",slug:"alertdialog",children:[]}]},{level:2,title:"Widget",slug:"widget",children:[]},{level:2,title:"Text",slug:"text",children:[]},{level:2,title:"Offstage",slug:"offstage",children:[]},{level:2,title:"PreferredSize",slug:"preferredsize",children:[]},{level:2,title:"tabber",slug:"tabber",children:[]},{level:2,title:"SliverAppBar",slug:"sliverappbar-1",children:[]},{level:2,title:"主题ThemeData",slug:"主题themedata",children:[]},{level:2,title:"safearea",slug:"safearea",children:[]},{level:2,title:"webview",slug:"webview",children:[]},{level:2,title:"布局",slug:"布局",children:[{level:3,title:"container",slug:"container",children:[]},{level:3,title:"Align",slug:"align",children:[]},{level:3,title:"IntrinsicHeight",slug:"intrinsicheight",children:[]},{level:3,title:"Row",slug:"row",children:[]},{level:3,title:"Column",slug:"column",children:[]},{level:3,title:"Expanded",slug:"expanded",children:[]},{level:3,title:"CircleAvatar",slug:"circleavatar",children:[]},{level:3,title:"Stack",slug:"stack",children:[]}]},{level:2,title:"Wrap",slug:"wrap",children:[]},{level:2,title:"辅助布局",slug:"辅助布局",children:[{level:4,title:"center",slug:"center",children:[]},{level:4,title:"SizeBox",slug:"sizebox",children:[]},{level:4,title:"AspectRatio",slug:"aspectratio",children:[]},{level:4,title:"FractionallySizedBox",slug:"fractionallysizedbox",children:[]},{level:4,title:"card",slug:"card",children:[]}]},{level:2,title:"Transform",slug:"transform",children:[]},{level:2,title:"裁剪",slug:"裁剪",children:[]},{level:2,title:"辅助样式",slug:"辅助样式",children:[{level:3,title:"BoxShadow",slug:"boxshadow",children:[]},{level:3,title:"padding",slug:"padding",children:[]},{level:3,title:"Alignment",slug:"alignment",children:[]},{level:3,title:"textDirection",slug:"textdirection",children:[]},{level:3,title:"BoxFit",slug:"boxfit",children:[]},{level:3,title:"Icon",slug:"icon",children:[]}]},{level:2,title:"image",slug:"image",children:[{level:3,title:"input",slug:"input",children:[]},{level:3,title:"表单验证",slug:"表单验证",children:[]},{level:3,title:"光标控制",slug:"光标控制",children:[]},{level:3,title:"TextFormField",slug:"textformfield",children:[]},{level:3,title:"checkbox",slug:"checkbox",children:[]},{level:3,title:"TextField",slug:"textfield",children:[{level:4,title:"大小写",slug:"大小写",children:[]},{level:4,title:"光标",slug:"光标",children:[]}]},{level:3,title:"失去焦点",slug:"失去焦点",children:[]},{level:3,title:"VerificationBox",slug:"verificationbox",children:[]},{level:3,title:"限制输入",slug:"限制输入",children:[]},{level:3,title:"自定义封装校验",slug:"自定义封装校验",children:[]}]},{level:2,title:"setState",slug:"setstate",children:[]},{level:2,title:"ValueListenableBuilder",slug:"valuelistenablebuilder",children:[]},{level:2,title:"GestureDetector",slug:"gesturedetector",children:[{level:3,title:"普通路由传值:",slug:"普通路由传值",children:[]},{level:3,title:"命名路由:",slug:"命名路由",children:[]},{level:3,title:"动态图命名路由传值:",slug:"动态图命名路由传值",children:[]}]},{level:2,title:"pushNamedAndRemoveUntil",slug:"pushnamedandremoveuntil",children:[]},{level:2,title:"pushReplacementNamed",slug:"pushreplacementnamed",children:[]},{level:2,title:"fractionsizedbox",slug:"fractionsizedbox",children:[]},{level:2,title:"FutureBuilder",slug:"futurebuilder",children:[]},{level:2,title:"ListView.builder",slug:"listview-builder",children:[]},{level:2,title:"去除顶部半透明",slug:"去除顶部半透明",children:[]},{level:2,title:"flutter_swiper 裁剪border radius",slug:"flutter-swiper-裁剪border-radius",children:[]},{level:2,title:"BottomNavigation切换保持",slug:"bottomnavigation切换保持",children:[]},{level:2,title:"获取文本是否换行",slug:"获取文本是否换行",children:[]},{level:2,title:"获取元素宽度",slug:"获取元素宽度",children:[]},{level:2,title:"重启App",slug:"重启app",children:[]},{level:2,title:"渐变appbar",slug:"渐变appbar",children:[]},{level:2,title:"flutterDriver 自动化测试",slug:"flutterdriver-自动化测试",children:[]},{level:2,title:"listview 优化",slug:"listview-优化",children:[]},{level:2,title:"自定义appbar",slug:"自定义appbar",children:[]},{level:2,title:"触摸收起键盘",slug:"触摸收起键盘",children:[]},{level:2,title:"保存图片",slug:"保存图片",children:[]},{level:2,title:"获取粘贴内容",slug:"获取粘贴内容",children:[{level:3,title:"国外论坛",slug:"国外论坛",children:[]},{level:3,title:"瀑布流",slug:"瀑布流",children:[]},{level:3,title:"bottombar",slug:"bottombar",children:[]},{level:3,title:"工具集",slug:"工具集",children:[]},{level:3,title:"flutter_swiper",slug:"flutter-swiper",children:[]},{level:3,title:"flutter_screenutil",slug:"flutter-screenutil",children:[]},{level:3,title:"url_launcher",slug:"url-launcher",children:[]},{level:3,title:"调试工具",slug:"调试工具",children:[]},{level:3,title:"build.gradle",slug:"build-gradle",children:[]},{level:3,title:"修改包名",slug:"修改包名",children:[]},{level:3,title:"分包",slug:"分包",children:[]},{level:3,title:"混淆",slug:"混淆",children:[]}]},{level:2,title:"flutter系统样式",slug:"flutter系统样式",children:[]},{level:2,title:"flutter 环境区分",slug:"flutter-环境区分",children:[]},{level:2,title:"android 多渠道打包",slug:"android-多渠道打包",children:[{level:3,title:"build.gradle",slug:"build-gradle-1",children:[]}]},{level:2,title:"flutter 与 Android 通信",slug:"flutter-与-android-通信",children:[]},{level:2,title:"检测https 忽略握手",slug:"检测https-忽略握手",children:[]},{level:2,title:"动画",slug:"动画",children:[]}],filePathRelative:"study/19.Flutter/flutter_util.md",git:{updatedTime:1639649524e3,contributors:[{name:"jia.top",email:"jia.top@jiatopdeiMac.lan",commits:2}]}}},2739:(n,s,a)=>{a.r(s),a.d(s,{default:()=>e});const p=(0,a(6252).uE)('<p>工具</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DoKit For Flutter\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="flutter" tabindex="-1"><a class="header-anchor" href="#flutter" aria-hidden="true">#</a> flutter</h1><p>https://www.raywenderlich.com/books/flutter-apprentice/v2.0/chapters/4-understanding-widgets</p><p>hello world</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n      title<span class="token punctuation">:</span> <span class="token string">&#39;Welcome to Flutter&#39;</span><span class="token punctuation">,</span>\n      home<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n        appBar<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n          title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;Welcome to Flutter&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        body<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>\n          child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flutter ctrate 项目名称  // 创建项目\n\n\nflutter packages get // 类似 npm i\nflutter pub get\n\ndart pub upgrade 包名 //升级\n\nflutter run\t\t\t// 运行\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><p><img src="https://upload-images.jianshu.io/upload_images/1996162-b1e223789c7b9b75.png?imageMogr2/auto-orient/strip|imageView2/2/w/912/format/webp" alt="img"></p><p><img src="/image/flutter/image-20211117163403527.png" alt="image-20211117163403527"></p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>\nhttps<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>jianshu<span class="token punctuation">.</span>com<span class="token operator">/</span>p<span class="token operator">/</span><span class="token number">7</span>f663d7198e2\n\ninitState： 插入到渲染树时调用，只执行一次。\n\ndidChangeDependencies<span class="token punctuation">:</span> \n\t<span class="token number">1</span>、在初始化initState后执行； <span class="token number">2</span>、显示<span class="token operator">/</span>关闭其它widget。 <span class="token number">3</span>、可执行多次；\n    <span class="token class-name">InheritedWidget</span> 中 updateShouldNotify 为<span class="token boolean">true</span>时 时会触发；\n        \ndidUpdateWidget<span class="token punctuation">:</span>\n\t上级节点rebuild widget时， 即上级组件状态发生变化时会触发子widget执行\n   \nbuild\n    \ndeative<span class="token punctuation">:</span>\n\t打开新的<span class="token class-name">Widget</span>或回到这个widget时会执行； 可执行多次；\n        \ndispose：\n\t<span class="token class-name">Navigator</span><span class="token punctuation">.</span>pop后会调用该办法， 表示组件已销毁；\n        \nreassemble：\n\thot reload。 release版本不会执行该函数。\n        \n        \n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>上图就是 State 的生命周期图。\n\nStatefulWidget.createState()\n\nFramework 调用会通过调用 StatefulWidget.createState() 来创建一个 State。\n\ninitState()\n\n新创建的 State 会和一个 BuildContext 产生关联，此时认为 State 已经被安装好了，initState() 函数将会被调用。\n\n通常，我们可以重写这个函数，进行初始化操作。\n\ndidChangeDependencies()\n\n在 initState() 调用结束后，这个函数会被调用。\n\n事实上，当 State 对象的依赖关系发生变化时，这个函数总会被 Framework 调用。\n\nbuild()\n\n经过以上步骤，系统认为一个 State 已经准备好了，就会调用 build() 来构建视图。\n\n我们需要在这个函数中，返回一个 Widget。\n\ndeactivate()\n\n当 State 被暂时从视图树中移除时，会调用这个函数。\n\n页面切换时，也会调用它，因为此时 State 在视图树中的位置发生了变化，需要先暂时移除后添加。\n\n⚠️注意，重写的时候必须要调用 super.deactivate()。\n\ndispose()\n\n当 State 被永久的从视图树中移除，Framework 会调用该函数。\n\n在销毁前触发，我们可以在这里进行最终的资源释放。\n\n在调用这个函数之前，总会先调用 deactivate()。\n\n⚠️注意，重写的时候必须要调用 super.dispose()。\n\ndidUpdateWidget(covariant T oldWidget)\n\n当 widget 的配置发生变化时，会调用这个函数。\n\n比如，Hot-reload 的时候就会调用这个函数。\n\n这个函数调用后，会调用 build()。\n\nsetState()\n\n当我需要更新 State 的视图时，需要手动调用这个函数，它会触发 build() 。\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="启动流程" tabindex="-1"><a class="header-anchor" href="#启动流程" aria-hidden="true">#</a> 启动流程</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://www.jianshu.com/p/8b782b8da96e\n\nhttps://blog.csdn.net/lcl130/article/details/114924678\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="widgetsbindingobserver" tabindex="-1"><a class="header-anchor" href="#widgetsbindingobserver" aria-hidden="true">#</a> WidgetsBindingObserver</h2><h3 id="方法" tabindex="-1"><a class="header-anchor" href="#方法" aria-hidden="true">#</a> 方法</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// Accessibility 相关特性回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangeAccessibilityFeatures</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// App 生命周期改变回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">AppLifecycleState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t<span class="token comment">///  AppLifecycleState 的枚举类，</span>\n    <span class="token comment">///  inactive：处在不活动状态，无法处理用户响应</span>\n    <span class="token comment">///  paused：不可见且不能响应用户的输入，但在后台继续活动中</span>\n    <span class="token comment">///  resumed：可见的，且能响应用户的输入</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 本地化语言改变回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangeLocales</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Locale</span><span class="token punctuation">&gt;</span></span> locale<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// 系统窗口相关改变回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangeMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// 系统亮度改变回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangePlatformBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// 文本缩放系数改变回调</span>\n<span class="token keyword">void</span> <span class="token function">didChangeTextScaleFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// 内存不足警告回调</span>\n<span class="token keyword">void</span> <span class="token function">didHaveMemoryPressure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// 页面 pop</span>\n<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">didPopRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 页面 push</span>\n<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">didPushRoute</span><span class="token punctuation">(</span><span class="token class-name">String</span> route<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">AppLifecycleReactor</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token class-name">AppLifecycleReactor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">Key</span> key <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  _AppLifecycleReactorState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_AppLifecycleReactorState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _AppLifecycleReactorState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppLifecycleReactor</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">with</span> <span class="token class-name">WidgetsBindingObserver</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注册监听器</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 移除监听器</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token class-name">AppLifecycleState</span> _notification<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">AppLifecycleState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;$state&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="帧绘制回调" tabindex="-1"><a class="header-anchor" href="#帧绘制回调" aria-hidden="true">#</a> 帧绘制回调</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>单次 <span class="token class-name">Frame</span> 绘制回调：\n<span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPostFrameCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addPostFrameCallback 绘制回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只回调一次</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPersistentFrameCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addPersistentFrameCallback 绘制回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每帧都回调</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="绘制流程" tabindex="-1"><a class="header-anchor" href="#绘制流程" aria-hidden="true">#</a> 绘制流程</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>当开始渲染的时候，会先通过<span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>创建element，随后element会在其<span class="token function">performRebuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法中调用widget的build方法创建widget，而widget继承自<span class="token function">xxRenderObjectWidget</span><span class="token punctuation">(</span>当然最高级的还是<span class="token class-name">Widget</span><span class="token punctuation">)</span>。进而在<span class="token function">performRebuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法中调用创建的widget的createRenderObject（）创建对应的 renderObject并调用<span class="token function">attachXXX</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法将它挂到renderObject树上，而后期在绘制的时候，则会调用renderObject的paint（）方法完成绘制。\n  \n  \n<span class="token number">1.</span>widget：框架的公共 API 或蓝图。开发人员通常只处理组合小部件。\n<span class="token number">2.</span>element：管理小部件和小部件的渲染对象。对于树中的每个小部件实例，都有一个对应的元素。\n<span class="token number">3.</span>RenderObject：负责绘制和布局特定的小部件实例。还处理用户交互，如命中测试和手势。\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="element类型" tabindex="-1"><a class="header-anchor" href="#element类型" aria-hidden="true">#</a> element类型</h3><p>有两种类型的元素：</p><ol><li><strong>ComponentElement</strong>：一种由其他元素组成的元素。这对应于在其他小部件中组合小部件</li><li><strong>RenderObjectElement</strong>：一种保存渲染对象的元素。</li></ol><p>您可以将<strong>ComponentElement</strong>视为一组元素，将<strong>RenderObjectElement</strong>视为单个元素。请记住，每个元素都包含一个渲染对象来执行小部件绘制、布局和命中测试。</p><h1 id="inheritedwidget" tabindex="-1"><a class="header-anchor" href="#inheritedwidget" aria-hidden="true">#</a> InheritedWidget</h1><h2 id="inheritedwidget-1" tabindex="-1"><a class="header-anchor" href="#inheritedwidget-1" aria-hidden="true">#</a> InheritedWidget</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>blog<span class="token punctuation">.</span>csdn<span class="token punctuation">.</span>net<span class="token operator">/</span>gpf1320253667<span class="token operator">/</span>article<span class="token operator">/</span>details<span class="token operator">/</span><span class="token number">112598506</span><span class="token operator">?</span>utm_medium<span class="token operator">=</span>distribute<span class="token punctuation">.</span>pc_relevant<span class="token punctuation">.</span>none<span class="token operator">-</span>task<span class="token operator">-</span>blog<span class="token operator">-</span><span class="token number">2</span><span class="token operator">~</span><span class="token keyword">default</span><span class="token operator">~</span>baidujs_title<span class="token operator">~</span><span class="token keyword">default</span><span class="token operator">-</span><span class="token number">0.</span>control<span class="token operator">&amp;</span>spm<span class="token operator">=</span><span class="token number">1001.2101</span><span class="token number">.3001</span><span class="token number">.4242</span>\n\n\ncontext<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType  可以获取<span class="token class-name">InheritedWidget</span>的实例\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">static</span> <span class="token class-name">FormWidgetState</span><span class="token operator">?</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">final</span> _FormScope<span class="token operator">?</span> scope <span class="token operator">=</span> context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span>_FormScope<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> scope<span class="token operator">?</span><span class="token punctuation">.</span>_formState<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  \n  \n  <span class="token keyword">class</span> _FormScope <span class="token keyword">extends</span> <span class="token class-name">InheritedWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token function">_FormScope</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n    required <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n    required <span class="token class-name">FormWidgetState</span> formState<span class="token punctuation">,</span>\n    required int generation<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token punctuation">:</span> _formState <span class="token operator">=</span> formState<span class="token punctuation">,</span>\n        _generation <span class="token operator">=</span> generation<span class="token punctuation">,</span>\n        <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">final</span> <span class="token class-name">FormWidgetState</span> _formState<span class="token punctuation">;</span>\n\n  <span class="token keyword">final</span> int _generation<span class="token punctuation">;</span>\n\n  <span class="token class-name">FormWidget</span> <span class="token keyword">get</span> form <span class="token operator">=</span><span class="token operator">&gt;</span> _formState<span class="token punctuation">.</span>widget<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  bool <span class="token function">updateShouldNotify</span><span class="token punctuation">(</span>_FormScope old<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _generation <span class="token operator">!=</span> old<span class="token punctuation">.</span>_generation<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 声明</span>\n<span class="token keyword">class</span> <span class="token class-name">ShareWidget</span> <span class="token keyword">extends</span> <span class="token class-name">InheritedWidget</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// 需要共享的数据，可以是单个数据，也可以是多个数据</span>\n  <span class="token comment">// 多个数据建议封装成一个类来进行管理，如这里的DataState，里面可以根据实际需求添加更多的字段。</span>\n  <span class="token comment">// final int shareData;  // 单个值可以不用封装成类，直接定义，但实际需求往往更复杂，因此建议统一使用外部的管理类来管理</span>\n  <span class="token keyword">final</span> <span class="token class-name">ShareData</span> shareData<span class="token punctuation">;</span> <span class="token comment">// 建议定义类来统一管理共享数据，一个或者多个数据。</span>\n\n  <span class="token comment">// 构造函数</span>\n  <span class="token keyword">const</span> <span class="token class-name">ShareWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shareData<span class="token punctuation">,</span>\n    <span class="token metadata symbol">@required</span> <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// 写法1:返回组件对象</span>\n  <span class="token keyword">static</span> <span class="token class-name">ShareWidget</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// return context.inheritFromWidgetOfExactType(ShareWidget);</span>\n    <span class="token comment">// 上面的方法在v1.12.1之后被弃用，改为使用下面的dependOnInheritedWidgetOfExactType。</span>\n    <span class="token keyword">return</span> context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ShareWidget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// 写法2:直接返回共享数据</span>\n  <span class="token keyword">static</span> <span class="token class-name">ShareData</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">final</span> <span class="token class-name">ShareWidget</span> shareWidget <span class="token operator">=</span>\n        context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ShareWidget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> shareWidget<span class="token punctuation">.</span>shareData<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">//该回调决定当状态发生变化时，是否通知子树中依赖的该组件</span>\n  <span class="token metadata symbol">@override</span>\n  bool <span class="token function">updateShouldNotify</span><span class="token punctuation">(</span><span class="token class-name">ShareWidget</span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 是否需要更新，返回true则更新</span>\n    <span class="token comment">// 当返回true时，如果在子child的build函数中有调用of获取该InheritedWidget，</span>\n    <span class="token comment">// 那么这个子widget的`state.didChangeDependencies`方法会被调用</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shareData<span class="token operator">!=</span> oldWidget<span class="token punctuation">.</span>shareData<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token comment">/// 使用</span>\n<span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 此处的ShareWidget是InheritedWidget类型的组建</span>\n    <span class="token keyword">return</span> <span class="token class-name">ShareWidget</span><span class="token punctuation">(</span>\n      shareData<span class="token punctuation">:</span> <span class="token class-name">ShareData</span><span class="token punctuation">(</span>userName<span class="token punctuation">:</span><span class="token string">&quot;初始值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span> <span class="token string">&#39;InheritedWidget的使用&#39;</span><span class="token punctuation">,</span>\n        theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>\n          primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n          visualDensity<span class="token punctuation">:</span> <span class="token class-name">VisualDensity</span><span class="token punctuation">.</span>adaptivePlatformDensity<span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token comment">/// 获取 共享 数据</span>\n        home<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;${ShareWidget.of(context).shareData.userName}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h2 id="notification" tabindex="-1"><a class="header-anchor" href="#notification" aria-hidden="true">#</a> Notification</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 声明</span>\n<span class="token keyword">class</span> <span class="token class-name">TestNotification</span> <span class="token keyword">extends</span> <span class="token class-name">Notification</span> <span class="token punctuation">{</span>\n<span class="token class-name">TestNotification</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">final</span> int count<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token comment">/// 使用 触发</span>\n<span class="token keyword">new</span> <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>\n       textColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>\n       child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>\n         child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;点击传递随机数给上层Widget&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n       <span class="token punctuation">)</span><span class="token punctuation">,</span>\n       onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n         <span class="token comment">/// 修改内容 通知修改</span>\n         <span class="token keyword">new</span> <span class="token class-name">TestNotification</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span>currentContext<span class="token punctuation">)</span><span class="token punctuation">;</span>\n       <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  \n  <span class="token comment">//// 监听</span>\n   <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">//监听通知  </span>\n    <span class="token keyword">return</span> <span class="token class-name">NotificationListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TestNotification</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n      onNotification<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">TestNotification</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          _msg<span class="token operator">+=</span>v<span class="token punctuation">.</span>msg<span class="token operator">+</span><span class="token string">&quot;  &quot;</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n       <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="事件event" tabindex="-1"><a class="header-anchor" href="#事件event" aria-hidden="true">#</a> 事件event</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>\ngesturedetector\n\n点击<span class="token punctuation">:</span>\n\tonTapDown<span class="token punctuation">:</span> \t\t用户手指按下\n    onTapUp<span class="token punctuation">:</span> \t\t手指抬起\n\tonTap<span class="token punctuation">:</span> \t\t\t点击完成\n    onTapCancel<span class="token punctuation">:</span> \t按下过程取消\n\n双击<span class="token punctuation">:</span>\n\tonDoubleTap<span class="token punctuation">:</span> \t双击\n\n长按<span class="token punctuation">:</span>\n\tonLongPress<span class="token punctuation">:</span>\t在屏幕上保持一段时间\n\n纵向拖拽<span class="token punctuation">:</span>\n\tonVerticalDragStart<span class="token punctuation">:</span> \t接触并开始纵向移动\n    onVerticalDragUpdate<span class="token punctuation">:</span>\t移动\n\tonVerticalDragEnd<span class="token punctuation">:</span>\t\t结束\n\n\n横向拖拽<span class="token punctuation">:</span>\n\tonHorizontlDragStart<span class="token punctuation">:</span> \t接触并开始纵向移动\n    onHorizontlDragUpdate<span class="token punctuation">:</span>\t移动\n\tonHorizontlDragEnd<span class="token punctuation">:</span>\t\t结束\n        \nglobalPosition  获取相对屏幕位置\nlocalPosition\t相对于<span class="token class-name">Widget</span>位置信息\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>body<span class="token punctuation">:</span><span class="token class-name">Listener</span><span class="token punctuation">(</span>\n\t\tonPointerDown<span class="token punctuation">:</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>\n\t\t\tevent<span class="token punctuation">.</span>position\t\t<span class="token comment">// 屏幕中位置</span>\n\t\t\tevent<span class="token punctuation">.</span>localPosition <span class="token comment">// 在组件中的位置</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">)</span>\n指针事件<span class="token punctuation">:</span>\n\tonPointerDownEvent\n    onPointerMoveEvent\n    onPoiinterUpEvent \n    onPointerCancelEvent\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Inkwell</span> 和 <span class="token class-name">GestureDetector</span>区别\n\n  <span class="token keyword">new</span> <span class="token class-name">InkWell</span><span class="token punctuation">(</span>\n    child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;Click me!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 单击</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    onDoubleTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 双击</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    onLongPress<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 长按</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \n  \n  <span class="token class-name">GestureDetector</span><span class="token punctuation">:</span> \n  \t\t是无状态组件 \n  \t\t无水波纹\n\n  <span class="token class-name">Inkwell</span><span class="token punctuation">:</span>\n  \t\t水波纹\n  \t\twidget\n            \n可自定义水波纹<span class="token punctuation">:</span>\n\t<span class="token class-name">Ink</span><span class="token punctuation">(</span>\n        highlightColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>purple<span class="token punctuation">[</span><span class="token number">800</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//颜色在最上层 会覆盖</span>\n    \tsplashColor<span class="token punctuation">:</span><span class="token class-name">Color</span><span class="token punctuation">.</span>red\n    <span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>事件传递</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>event_bus <span class="token comment">//第三方库</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="statelesswidget" tabindex="-1"><a class="header-anchor" href="#statelesswidget" aria-hidden="true">#</a> StatelessWidget</h2><h2 id="statefullwidget" tabindex="-1"><a class="header-anchor" href="#statefullwidget" aria-hidden="true">#</a> StatefullWidget</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">StatelessWidget</span> <span class="token comment">//无状态</span>\n<span class="token class-name">StatefullWidget</span> <span class="token comment">//可变状态</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="materialapp" tabindex="-1"><a class="header-anchor" href="#materialapp" aria-hidden="true">#</a> MaterialApp</h2><p>https://api.flutter.dev/flutter/material/MaterialApp-class.html</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">MaterialApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 设备用于为用户识别应用程序的单行描述</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>home<span class="token punctuation">,</span> <span class="token comment">// 应用程序默认路由的小部件,用来定义当前应用打开的时候，所显示的界面</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span> <span class="token comment">// 在操作系统界面中应用程序使用的主色。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>theme<span class="token punctuation">,</span> <span class="token comment">// 应用程序小部件使用的颜色。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>routes <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">WidgetBuilder</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 应用程序的顶级路由表</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>navigatorKey<span class="token punctuation">,</span> <span class="token comment">// 在构建导航器时使用的键。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>initialRoute<span class="token punctuation">,</span> <span class="token comment">// 如果构建了导航器，则显示的第一个路由的名称</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>onGenerateRoute<span class="token punctuation">,</span> <span class="token comment">// 应用程序导航到指定路由时使用的路由生成器回调</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>onUnknownRoute<span class="token punctuation">,</span> <span class="token comment">// 当 onGenerateRoute 无法生成路由(initialRoute除外)时调用</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>navigatorObservers <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorObserver</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 为该应用程序创建的导航器的观察者列表</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>builder<span class="token punctuation">,</span> <span class="token comment">// 用于在导航器上面插入小部件，但在由WidgetsApp小部件创建的其他小部件下面插入小部件，或用于完全替换导航器</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>onGenerateTitle<span class="token punctuation">,</span> <span class="token comment">// 如果非空，则调用此回调函数来生成应用程序的标题字符串，否则使用标题。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>locale<span class="token punctuation">,</span> <span class="token comment">// 此应用程序本地化小部件的初始区域设置基于此值。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>localizationsDelegates<span class="token punctuation">,</span> <span class="token comment">// 这个应用程序本地化小部件的委托。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>localeListResolutionCallback<span class="token punctuation">,</span> <span class="token comment">// 这个回调负责在应用程序启动时以及用户更改设备的区域设置时选择应用程序的区域设置。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>localeResolutionCallback<span class="token punctuation">,</span> <span class="token comment">// </span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>supportedLocales <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Locale</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&#39;en&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;US&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 此应用程序已本地化的地区列表 </span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>debugShowMaterialGrid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打开绘制基线网格材质应用程序的网格纸覆盖</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>showPerformanceOverlay <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打开性能叠加</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>checkerboardRasterCacheImages <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打开栅格缓存图像的棋盘格</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>checkerboardOffscreenLayers <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打开渲染到屏幕外位图的图层的棋盘格</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>showSemanticsDebugger <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打开显示框架报告的可访问性信息的覆盖</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>debugShowCheckedModeBanner <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在选中模式下打开一个小的“DEBUG”横幅，表示应用程序处于选中模式</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n      title<span class="token punctuation">:</span> <span class="token string">&#39;Welcome to Flutter&#39;</span><span class="token punctuation">,</span>\n      theme<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>\n      \tprimaryColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><table><thead><tr><th>key</th><th>type</th><th>detail</th></tr></thead><tbody><tr><td>title</td><td>String</td><td>为用户识别应用程序的单行描述</td></tr><tr><td>theme</td><td>ThemeData</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>ThemeData</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">factory</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token class-name">Brightness</span> brightness<span class="token punctuation">,</span> <span class="token comment">// 应用整体主题的亮度。用于按钮之类的小部件，以确定在不使用主色或强调色时选择什么颜色。</span>\n  <span class="token class-name">MaterialColor</span> primarySwatch<span class="token punctuation">,</span><span class="token comment">// 定义一个单一的颜色以及十个色度的色块。</span>\n  <span class="token class-name">Color</span> primaryColor<span class="token punctuation">,</span> <span class="token comment">// 应用程序主要部分的背景颜色(toolbars、tab bars 等)</span>\n  <span class="token class-name">Brightness</span> primaryColorBrightness<span class="token punctuation">,</span> <span class="token comment">// primaryColor的亮度。用于确定文本的颜色和放置在主颜色之上的图标(例如工具栏文本)。</span>\n  <span class="token class-name">Color</span> primaryColorLight<span class="token punctuation">,</span> <span class="token comment">// primaryColor的浅色版</span>\n  <span class="token class-name">Color</span> primaryColorDark<span class="token punctuation">,</span> <span class="token comment">// primaryColor的深色版</span>\n  <span class="token class-name">Color</span> accentColor<span class="token punctuation">,</span> <span class="token comment">// 小部件的前景色(旋钮、文本、覆盖边缘效果等)。</span>\n  <span class="token class-name">Brightness</span> accentColorBrightness<span class="token punctuation">,</span> <span class="token comment">// accentColor的亮度。</span>\n  <span class="token class-name">Color</span> canvasColor<span class="token punctuation">,</span> <span class="token comment">//  MaterialType.canvas 的默认颜色</span>\n  <span class="token class-name">Color</span> scaffoldBackgroundColor<span class="token punctuation">,</span> <span class="token comment">// Scaffold的默认颜色。典型Material应用程序或应用程序内页面的背景颜色。</span>\n  <span class="token class-name">Color</span> bottomAppBarColor<span class="token punctuation">,</span> <span class="token comment">// BottomAppBar的默认颜色</span>\n  <span class="token class-name">Color</span> cardColor<span class="token punctuation">,</span> <span class="token comment">// Card的颜色</span>\n  <span class="token class-name">Color</span> dividerColor<span class="token punctuation">,</span> <span class="token comment">// Divider和PopupMenuDivider的颜色，也用于ListTile之间、DataTable的行之间等。</span>\n  <span class="token class-name">Color</span> highlightColor<span class="token punctuation">,</span> <span class="token comment">// 选中在泼墨动画期间使用的突出显示颜色，或用于指示菜单中的项。</span>\n  <span class="token class-name">Color</span> splashColor<span class="token punctuation">,</span>  <span class="token comment">// 墨水飞溅的颜色。InkWell</span>\n  <span class="token class-name">InteractiveInkFeatureFactory</span> splashFactory<span class="token punctuation">,</span> <span class="token comment">// 定义由InkWell和InkResponse反应产生的墨溅的外观。</span>\n  <span class="token class-name">Color</span> selectedRowColor<span class="token punctuation">,</span> <span class="token comment">// 用于突出显示选定行的颜色。</span>\n  <span class="token class-name">Color</span> unselectedWidgetColor<span class="token punctuation">,</span> <span class="token comment">// 用于处于非活动(但已启用)状态的小部件的颜色。例如，未选中的复选框。通常与accentColor形成对比。也看到disabledColor。</span>\n  <span class="token class-name">Color</span> disabledColor<span class="token punctuation">,</span> <span class="token comment">// 禁用状态下部件的颜色，无论其当前状态如何。例如，一个禁用的复选框(可以选中或未选中)。</span>\n  <span class="token class-name">Color</span> buttonColor<span class="token punctuation">,</span> <span class="token comment">// RaisedButton按钮中使用的Material 的默认填充颜色。</span>\n  <span class="token class-name">ButtonThemeData</span> buttonTheme<span class="token punctuation">,</span> <span class="token comment">// 定义按钮部件的默认配置，如RaisedButton和FlatButton。</span>\n  <span class="token class-name">Color</span> secondaryHeaderColor<span class="token punctuation">,</span> <span class="token comment">// 选定行时PaginatedDataTable标题的颜色。</span>\n  <span class="token class-name">Color</span> textSelectionColor<span class="token punctuation">,</span> <span class="token comment">// 文本框中文本选择的颜色，如TextField</span>\n  <span class="token class-name">Color</span> cursorColor<span class="token punctuation">,</span> <span class="token comment">// 文本框中光标的颜色，如TextField</span>\n  <span class="token class-name">Color</span> textSelectionHandleColor<span class="token punctuation">,</span>  <span class="token comment">// 用于调整当前选定的文本部分的句柄的颜色。</span>\n  <span class="token class-name">Color</span> backgroundColor<span class="token punctuation">,</span> <span class="token comment">// 与主色形成对比的颜色，例如用作进度条的剩余部分。</span>\n  <span class="token class-name">Color</span> dialogBackgroundColor<span class="token punctuation">,</span> <span class="token comment">// Dialog 元素的背景颜色</span>\n  <span class="token class-name">Color</span> indicatorColor<span class="token punctuation">,</span> <span class="token comment">// 选项卡中选定的选项卡指示器的颜色。</span>\n  <span class="token class-name">Color</span> hintColor<span class="token punctuation">,</span> <span class="token comment">// 用于提示文本或占位符文本的颜色，例如在TextField中。</span>\n  <span class="token class-name">Color</span> errorColor<span class="token punctuation">,</span> <span class="token comment">// 用于输入验证错误的颜色，例如在TextField中</span>\n  <span class="token class-name">Color</span> toggleableActiveColor<span class="token punctuation">,</span> <span class="token comment">// 用于突出显示Switch、Radio和Checkbox等可切换小部件的活动状态的颜色。</span>\n  <span class="token class-name">String</span> fontFamily<span class="token punctuation">,</span> <span class="token comment">// 文本字体</span>\n  <span class="token class-name">TextTheme</span> textTheme<span class="token punctuation">,</span> <span class="token comment">// 文本的颜色与卡片和画布的颜色形成对比。</span>\n  <span class="token class-name">TextTheme</span> primaryTextTheme<span class="token punctuation">,</span> <span class="token comment">// 与primaryColor形成对比的文本主题</span>\n  <span class="token class-name">TextTheme</span> accentTextTheme<span class="token punctuation">,</span> <span class="token comment">// 与accentColor形成对比的文本主题。</span>\n  <span class="token class-name">InputDecorationTheme</span> inputDecorationTheme<span class="token punctuation">,</span> <span class="token comment">// 基于这个主题的 InputDecorator、TextField和TextFormField的默认InputDecoration值。</span>\n  <span class="token class-name">IconThemeData</span> iconTheme<span class="token punctuation">,</span> <span class="token comment">// 与卡片和画布颜色形成对比的图标主题</span>\n  <span class="token class-name">IconThemeData</span> primaryIconTheme<span class="token punctuation">,</span> <span class="token comment">// 与primaryColor形成对比的图标主题</span>\n  <span class="token class-name">IconThemeData</span> accentIconTheme<span class="token punctuation">,</span> <span class="token comment">// 与accentColor形成对比的图标主题。</span>\n  <span class="token class-name">SliderThemeData</span> sliderTheme<span class="token punctuation">,</span>  <span class="token comment">// 用于呈现Slider的颜色和形状</span>\n  <span class="token class-name">TabBarTheme</span> tabBarTheme<span class="token punctuation">,</span> <span class="token comment">// 用于自定义选项卡栏指示器的大小、形状和颜色的主题。</span>\n  <span class="token class-name">CardTheme</span> cardTheme<span class="token punctuation">,</span> <span class="token comment">// Card的颜色和样式</span>\n  <span class="token class-name">ChipThemeData</span> chipTheme<span class="token punctuation">,</span> <span class="token comment">// Chip的颜色和样式</span>\n  <span class="token class-name">TargetPlatform</span> platform<span class="token punctuation">,</span> \n  <span class="token class-name">MaterialTapTargetSize</span> materialTapTargetSize<span class="token punctuation">,</span> <span class="token comment">// 配置某些Material部件的命中测试大小</span>\n  <span class="token class-name">PageTransitionsTheme</span> pageTransitionsTheme<span class="token punctuation">,</span> \n  <span class="token class-name">AppBarTheme</span> appBarTheme<span class="token punctuation">,</span> <span class="token comment">// 用于自定义Appbar的颜色、高度、亮度、iconTheme和textTheme的主题。</span>\n  <span class="token class-name">BottomAppBarTheme</span> bottomAppBarTheme<span class="token punctuation">,</span> <span class="token comment">// 自定义BottomAppBar的形状、高度和颜色的主题。</span>\n  <span class="token class-name">ColorScheme</span> colorScheme<span class="token punctuation">,</span> <span class="token comment">// 拥有13种颜色，可用于配置大多数组件的颜色。</span>\n  <span class="token class-name">DialogTheme</span> dialogTheme<span class="token punctuation">,</span> <span class="token comment">// 自定义Dialog的主题形状</span>\n  <span class="token class-name">Typography</span> typography<span class="token punctuation">,</span> <span class="token comment">// 用于配置TextTheme、primaryTextTheme和accentTextTheme的颜色和几何TextTheme值。</span>\n  <span class="token class-name">CupertinoThemeData</span> cupertinoOverrideTheme \n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>AppBarTheme</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>  <span class="token keyword">const</span> <span class="token class-name">AppBarTheme</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>brightness<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span> \t<span class="token comment">// 背景颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elevation<span class="token punctuation">,</span> <span class="token comment">// 阴影辐射范围 default 4.0</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>shadowColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>iconTheme<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsIconTheme<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textTheme<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>centerTitle<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="scaffold" tabindex="-1"><a class="header-anchor" href="#scaffold" aria-hidden="true">#</a> Scaffold</h2><p><img src="/image/flutter/image-20200704124550478.png" alt="image-20200704124550478"></p><h2 id="appbar" tabindex="-1"><a class="header-anchor" href="#appbar" aria-hidden="true">#</a> appbar</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>leading<span class="token punctuation">,</span> <span class="token comment">//widget类型，即可任意设计样式，表示左侧leading区域，通常为icon，如返回icon</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>automaticallyImplyLeading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 如果leading!=null，该属性不生效；如果leading==null且为true，左侧leading区域留白；如果leading==null且为false，左侧leading区域扩展给title区域使用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><span class="token comment">//widget类型，即可任意设计样式，表示中间title区域，通常为标题栏</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">,</span><span class="token comment">// List&lt;Widget&gt;类型，即可任意设计样式，表示右侧actions区域，可放置多个widget，通常为icon，如搜索icon、菜单icon</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>flexibleSpace<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> <span class="token comment">//PreferredSizeWidget类型，appbar底部区域，通常为Tab控件</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elevation<span class="token punctuation">,</span> <span class="token comment">//阴影高度，默认为4</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>shape<span class="token punctuation">,</span><span class="token comment">//ShapeBorder 类型，表示描边形状</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span> <span class="token comment">//Color类型，背景色 </span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>brightness<span class="token punctuation">,</span><span class="token comment">//Brightness类型，表示当前appbar主题是亮或暗色调，有dark和light两个值，可影响系统状态栏的图标颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>iconTheme<span class="token punctuation">,</span> <span class="token comment">//IconThemeData类型，可影响包括leading、title、actions中icon的颜色、透明度，及leading中的icon大小。</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsIconTheme<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textTheme<span class="token punctuation">,</span><span class="token comment">// TextTheme类型，文本主题样式，可设置appbar中文本的许多样式，如字体大小、颜色、前景色、背景色等...</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>primary <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//true时，appBar会以系统状态栏高度为间距显示在下方；false时，会和状态栏重叠，相当于全屏显示。</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>centerTitle<span class="token punctuation">,</span> <span class="token comment">// boolean 类型，表示标题是否居中显示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>titleSpacing <span class="token operator">=</span> <span class="token class-name">NavigationToolbar</span><span class="token punctuation">.</span>kMiddleSpacing<span class="token punctuation">,</span><span class="token comment">//title区域水平方向与leading和actions的间距(padding)</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>toolbarOpacity <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span><span class="token comment">//toolbar区域透明度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>bottomOpacity <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span><span class="token comment">//bottom区域透明度</span>\n    <span class="token comment">// 防止背景图或者FloatingActionButton被顶上去 </span>\n    resizeToAvoidBottomInset<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="显示隐藏状态" tabindex="-1"><a class="header-anchor" href="#显示隐藏状态" aria-hidden="true">#</a> 显示隐藏状态</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/services.dart&#39;</span><span class="token punctuation">;</span>\n\n   <span class="token comment">//显示底部栏(隐藏顶部状态栏)</span>\n<span class="token comment">//    SystemChrome.setEnabledSystemUIOverlays([SystemUiOverlay.bottom]);</span>\n    <span class="token comment">//显示顶部栏(隐藏底部栏)</span>\n<span class="token comment">//    SystemChrome.setEnabledSystemUIOverlays([SystemUiOverlay.top]);</span>\n    <span class="token comment">//隐藏底部栏和顶部状态栏</span>\n    <span class="token class-name">SystemChrome</span><span class="token punctuation">.</span><span class="token function">setEnabledSystemUIOverlays</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="底部导航栏" tabindex="-1"><a class="header-anchor" href="#底部导航栏" aria-hidden="true">#</a> 底部导航栏</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">BottomBar</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">BottomBarState</span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">BottomBarState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">BottomBarState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BottomBar</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">BottomNavigationBar</span><span class="token punctuation">(</span>\n      items<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n        <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n            icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>\n              <span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">,</span>\n              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;HOME&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n            icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>\n              <span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">,</span>\n              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;HOME&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">mixin</span> <span class="token class-name">StateBottomBar</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import &#39;package:flutter/material.dart&#39;;\n\nimport &#39;./pages/main_BottomBar/main_BottomBar.dart&#39;;\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: &#39;Welcome to Flutter&#39;,\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: new Text(&#39;Welcome to Flutster&#39;),\n        ),\n        body: new Center(\n          // child: new Text(\n          //   &#39;Hello Worlds&#39;,\n          //   textDirection: TextDirection.ltr,\n          //   style: TextStyle(\n          //       fontSize: 14.0, color: Color.fromRGBO(255, 122, 122, .5)),\n          // ),\n          heightFactor: 1,\n          widthFactor: 1,\n          // child: new HomeContent(),\n          // child: new ImageCom(),\n          child: ListView(\n            children: &lt;Widget&gt;[\n              ListTile(\n                title: Text(&#39;title&#39;),\n                subtitle: Text(&#39;data&#39;),\n                trailing: Text(&#39;trailing&#39;),\n                isThreeLine: true,\n                dense: true,\n                onLongPress: () {\n                  print(&#39;222&#39;);\n                },\n              ),\n\n              TextField(\n                  decoration: InputDecoration(\n                      hintText: &#39;dddd&#39;,\n                      border: OutlineInputBorder(),\n                      labelText: &#39;用户&#39;)),\n              SizedBox(height: 20),\n              TextField(\n                  obscureText: true,\n                  decoration: InputDecoration(\n                      hintText: &#39;dddd&#39;,\n                      border: OutlineInputBorder(),\n                      labelText: &#39;用户&#39;)),\n\n              // MyInput()\n            ],\n          ),\n          // child: new PaddingTestRoute(),\n        ),\n       bottomNavigationBar:BottomBar(),\n      ),\n    );\n  }\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h2 id="sliverappbar" tabindex="-1"><a class="header-anchor" href="#sliverappbar" aria-hidden="true">#</a> SliverAppBar</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">const</span> <span class="token class-name">SliverAppBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>leading<span class="token punctuation">,</span><span class="token comment">//左侧的图标或文字，多为返回箭头</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>automaticallyImplyLeading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//没有leading为true的时候，默认返回箭头，没有leading且为false，则显示title</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><span class="token comment">//标题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">,</span><span class="token comment">//标题右侧的操作</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>flexibleSpace<span class="token punctuation">,</span><span class="token comment">//可以理解为SliverAppBar的背景内容区</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span><span class="token comment">//SliverAppBar的底部区</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elevation<span class="token punctuation">,</span><span class="token comment">//阴影</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>forceElevated <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否显示阴影</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span><span class="token comment">//背景颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>brightness<span class="token punctuation">,</span><span class="token comment">//状态栏主题，默认Brightness.dark，可选参数light</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>iconTheme<span class="token punctuation">,</span><span class="token comment">//SliverAppBar图标主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsIconTheme<span class="token punctuation">,</span><span class="token comment">//action图标主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textTheme<span class="token punctuation">,</span><span class="token comment">//文字主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>primary <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否显示在状态栏的下面,false就会占领状态栏的高度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>centerTitle<span class="token punctuation">,</span><span class="token comment">//标题是否居中显示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>titleSpacing <span class="token operator">=</span> <span class="token class-name">NavigationToolbar</span><span class="token punctuation">.</span>kMiddleSpacing<span class="token punctuation">,</span><span class="token comment">//标题横向间距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>expandedHeight<span class="token punctuation">,</span><span class="token comment">//合并的高度，默认是状态栏的高度加AppBar的高度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>floating <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//滑动时是否悬浮</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>pinned <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//标题栏是否固定</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>snap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//配合floating使用</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>滚动到指定位置</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      _pageScroll<span class="token punctuation">.</span><span class="token function">animateTo</span><span class="token punctuation">(</span>\n          _pageScroll<span class="token punctuation">.</span>position<span class="token punctuation">.</span>minScrollExtent<span class="token punctuation">,</span> <span class="token comment">//滚动到顶部部</span>\n          duration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                      curve<span class="token punctuation">:</span> <span class="token class-name">Curves</span><span class="token punctuation">.</span>easeOut<span class="token punctuation">,</span>\n                    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="下拉框" tabindex="-1"><a class="header-anchor" href="#下拉框" aria-hidden="true">#</a> 下拉框</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> DropdownButton(\n                  value: dropdownValue,\n                  hint: Text(&#39;快捷操作&#39;),\n                  isExpanded: true,\n                  underline: Container(\n                    height: 0.5,\n                    color: ZjTheme.zj_border_fb,\n                  ),\n                  onChanged: (newValue) {\n                    print(&#39;----$newValue&#39;);\n                    setState(() {\n                      dropdownValue = newValue;\n                    });\n                  },\n                  items: [\n                    DropdownMenuItem(\n                      value: &#39;1&#39;,\n                      child: Text(&#39;1&#39;),\n                    ),\n                    DropdownMenuItem(\n                      value: &#39;2&#39;,\n                      child: Text(&#39;1&#39;),\n                    ),\n                    DropdownMenuItem(\n                      value: &#39;3&#39;,\n                      child: Text(&#39;1&#39;),\n                    ),\n                  ],\n                ),\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="弹窗" tabindex="-1"><a class="header-anchor" href="#弹窗" aria-hidden="true">#</a> 弹窗</h2><h3 id="dialog" tabindex="-1"><a class="header-anchor" href="#dialog" aria-hidden="true">#</a> Dialog</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>juejin<span class="token punctuation">.</span>im<span class="token operator">/</span>post<span class="token operator">/</span><span class="token number">6844903822028963847</span>\n<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> showDialog<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token metadata symbol">@required</span> <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>\n  bool barrierDismissible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>   <span class="token comment">// 点击 dialog 外部是否可消失</span>\n  barrierColor<span class="token punctuation">:</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>black54<span class="token punctuation">,</span> <span class="token comment">// 遮罩颜色</span>\n  useSafeArea<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>   <span class="token comment">// 屏幕“安全”区域</span>\n  <span class="token class-name">WidgetBuilder</span> builder<span class="token punctuation">,</span>  <span class="token comment">// 构建 Dialog 视图 BuildContext context=&gt; widget</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n    \n    如果要更新 dialog中的视图\n    科技加一层<span class="token class-name">StatefulBuilder</span>建立自身的 setstate；\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>showDialog<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Future</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>\n      barrierDismissible<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      useRootNavigator<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      useSafeArea<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      \t <span class="token class-name">BuildContext</span> iscontext <span class="token operator">=</span> context<span class="token punctuation">;</span> <span class="token comment">// 父级的</span>\n         bool isShowPhone <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token class-name">StatefulBuilder</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state <span class="token comment">// 自己的setstate) {</span>\n        \t<span class="token keyword">return</span> <span class="token class-name">Widget</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="alertdialog" tabindex="-1"><a class="header-anchor" href="#alertdialog" aria-hidden="true">#</a> AlertDialog</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">const</span> <span class="token class-name">AlertDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>titlePadding<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>titleTextStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>contentPadding <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span><span class="token number">24.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">24.0</span><span class="token punctuation">,</span> <span class="token number">24.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>contentTextStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsPadding <span class="token operator">=</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsOverflowDirection<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsOverflowButtonSpacing<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>buttonPadding<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elevation<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>semanticLabel<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>insetPadding <span class="token operator">=</span> _defaultInsetPadding<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>clipBehavior <span class="token operator">=</span> <span class="token class-name">Clip</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>shape<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">assert</span><span class="token punctuation">(</span>contentPadding <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n       <span class="token keyword">assert</span><span class="token punctuation">(</span>clipBehavior <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n       <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="widget" tabindex="-1"><a class="header-anchor" href="#widget" aria-hidden="true">#</a> Widget</h2><h2 id="text" tabindex="-1"><a class="header-anchor" href="#text" aria-hidden="true">#</a> Text</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Text</span><span class="token punctuation">(</span>\n        <span class="token string">&quot;Text组件的使用&quot;</span><span class="token punctuation">,</span>\n        style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>\n            <span class="token comment">// 文字颜色</span>\n            color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xfff0000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token comment">// none 不显示装饰线条，underline 字体下方，overline 字体上方，lineThrough穿过文字</span>\n            decoration<span class="token punctuation">:</span> <span class="token class-name">TextDecoration</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>\n            <span class="token comment">// solid 直线，double 双下划线，dotted 虚线，dashed 点下划线，wavy 波浪线</span>\n            decorationStyle<span class="token punctuation">:</span> <span class="token class-name">TextDecorationStyle</span><span class="token punctuation">.</span>solid<span class="token punctuation">,</span>\n            <span class="token comment">// 装饰线的颜色</span>\n            decorationColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n            <span class="token comment">// 文字大小</span>\n            fontSize<span class="token punctuation">:</span> <span class="token number">15.0</span><span class="token punctuation">,</span>\n            <span class="token comment">// normal 正常，italic 斜体</span>\n            fontStyle<span class="token punctuation">:</span> <span class="token class-name">FontStyle</span><span class="token punctuation">.</span>normal<span class="token punctuation">,</span>\n            <span class="token comment">// 字体的粗细</span>\n            fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>\n            <span class="token comment">// 文字间的宽度</span>\n            letterSpacing<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>\n            <span class="token comment">// 文本行与行的高度，作为字体大小的倍数（取值1~2，如1.2）</span>\n            height<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n            <span class="token comment">//对齐文本的水平线:</span>\n            <span class="token comment">//TextBaseline.alphabetic：文本基线是标准的字母基线</span>\n            <span class="token comment">//TextBaseline.ideographic：文字基线是表意字基线；</span>\n            <span class="token comment">//如果字符本身超出了alphabetic 基线，那么ideograhpic基线位置在字符本身的底部。</span>\n            textBaseline<span class="token punctuation">:</span> <span class="token class-name">TextBaseline</span><span class="token punctuation">.</span>alphabetic<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token comment">// 段落的间距样式</span>\n        strutStyle<span class="token punctuation">:</span> <span class="token class-name">StrutStyle</span><span class="token punctuation">(</span>\n          fontFamily<span class="token punctuation">:</span> <span class="token string">&#39;serif&#39;</span><span class="token punctuation">,</span>\n          fontFamilyFallback<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;monospace&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;serif&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n          fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n          leading<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n          fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w300<span class="token punctuation">,</span>\n          fontStyle<span class="token punctuation">:</span> <span class="token class-name">FontStyle</span><span class="token punctuation">.</span>normal<span class="token punctuation">,</span>\n          forceStrutHeight<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n          debugLabel<span class="token punctuation">:</span> <span class="token string">&#39;text demo&#39;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token comment">// 文字对齐方式</span>\n        textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n        <span class="token comment">// 文字排列方向 ltr 左到右，rtl右到左</span>\n        textDirection<span class="token punctuation">:</span> <span class="token class-name">TextDirection</span><span class="token punctuation">.</span>ltr<span class="token punctuation">,</span>\n        <span class="token comment">// 用于选择区域特定字形的语言环境</span>\n        locale<span class="token punctuation">:</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&#39;zh_CN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token comment">// 软包裹 ，文字是否应该在软断行出断行</span>\n        softWrap<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n        <span class="token comment">// 如何处理视觉溢出:clip 剪切溢出的文本以修复其容器。ellipsis 使用省略号表示文本已溢出。fade 将溢出的文本淡化为透明。</span>\n        overflow<span class="token punctuation">:</span> <span class="token class-name">TextOverflow</span><span class="token punctuation">.</span>clip<span class="token punctuation">,</span>\n        <span class="token comment">// 文字的缩放比例</span>\n        textScaleFactor<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>\n        <span class="token comment">// 文本要跨越的可选最大行数,</span>\n        maxLines<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n        <span class="token comment">// 图像的语义描述，用于向Andoid上的TalkBack和iOS上的VoiceOver提供图像描述</span>\n        semanticsLabel<span class="token punctuation">:</span> <span class="token string">&#39;text demo&#39;</span><span class="token punctuation">,</span>\n        textWidthBasis<span class="token punctuation">:</span> <span class="token class-name">TextWidthBasis</span><span class="token punctuation">.</span>longestLine<span class="token punctuation">,</span>\n      <span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><h2 id="offstage" tabindex="-1"><a class="header-anchor" href="#offstage" aria-hidden="true">#</a> Offstage</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> 控制child是否显示\n const Offstage({ Key key, this.offstage = true, Widget child })\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="preferredsize" tabindex="-1"><a class="header-anchor" href="#preferredsize" aria-hidden="true">#</a> PreferredSize</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   Scaffold( \n        appBar: PreferredSize(\n        child: AppBar(\n        ),\n        preferredSize: Size.fromHeight(screenSize.height * 0.07))\n);\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="tabber" tabindex="-1"><a class="header-anchor" href="#tabber" aria-hidden="true">#</a> tabber</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tabs<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isScrollable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> \t\t\t\t<span class="token comment">//是否可滚动</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>indicatorColor<span class="token punctuation">,</span>\t\t\t\t\t<span class="token comment">//指示器颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>indicatorWeight <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\t\t\t\t<span class="token comment">//指示器厚度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>indicatorPadding <span class="token operator">=</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span><span class="token comment">//底部指示器的Padding</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>indicator<span class="token punctuation">,</span>\t\t\t\t\t\t<span class="token comment">//指示器decoration，例如边框等</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>indicatorSize<span class="token punctuation">,</span> <span class="token comment">//指示器大小计算方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelPadding<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>unselectedLabelColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>unselectedLabelStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>dragStartBehavior <span class="token operator">=</span> <span class="token class-name">DragStartBehavior</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseCursor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">LoginTab</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  _LoginTabState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_LoginTabState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _LoginTabState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginTab</span><span class="token punctuation">&gt;</span></span>\n    <span class="token keyword">with</span> <span class="token class-name">SingleTickerProviderStateMixin</span> <span class="token punctuation">{</span>\n  <span class="token class-name">TabController</span> _tabController<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    _tabController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TabController</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n          <span class="token class-name">TabBar</span><span class="token punctuation">(</span>\n            controller<span class="token punctuation">:</span> _tabController<span class="token punctuation">,</span>\n            tabs<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n              <span class="token class-name">Tab</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">&#39;Tab1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token class-name">Tab</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">&#39;Tab1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Container</span><span class="token punctuation">(</span>\n            height<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">TabBarView</span><span class="token punctuation">(</span>\n              controller<span class="token punctuation">:</span> _tabController<span class="token punctuation">,</span>\n              children<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;dat2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="sliverappbar-1" tabindex="-1"><a class="header-anchor" href="#sliverappbar-1" aria-hidden="true">#</a> SliverAppBar</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">const</span> <span class="token class-name">SliverAppBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>leading<span class="token punctuation">,</span><span class="token comment">//左侧的图标或文字，多为返回箭头</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>automaticallyImplyLeading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//没有leading为true的时候，默认返回箭头，没有leading且为false，则显示title</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><span class="token comment">//标题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">,</span><span class="token comment">//标题右侧的操作</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>flexibleSpace<span class="token punctuation">,</span><span class="token comment">//可以理解为SliverAppBar的背景内容区</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span><span class="token comment">//SliverAppBar的底部区</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elevation<span class="token punctuation">,</span><span class="token comment">//阴影</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>forceElevated <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否显示阴影</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span><span class="token comment">//背景颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>brightness<span class="token punctuation">,</span><span class="token comment">//状态栏主题，默认Brightness.dark，可选参数light</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>iconTheme<span class="token punctuation">,</span><span class="token comment">//SliverAppBar图标主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>actionsIconTheme<span class="token punctuation">,</span><span class="token comment">//action图标主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textTheme<span class="token punctuation">,</span><span class="token comment">//文字主题</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>primary <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否显示在状态栏的下面,false就会占领状态栏的高度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>centerTitle<span class="token punctuation">,</span><span class="token comment">//标题是否居中显示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>titleSpacing <span class="token operator">=</span> <span class="token class-name">NavigationToolbar</span><span class="token punctuation">.</span>kMiddleSpacing<span class="token punctuation">,</span><span class="token comment">//标题横向间距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>expandedHeight<span class="token punctuation">,</span><span class="token comment">//合并的高度，默认是状态栏的高度加AppBar的高度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>floating <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//滑动时是否悬浮</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>pinned <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//标题栏是否固定</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>snap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//配合floating使用</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>      body<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">CustomScrollView</span><span class="token punctuation">(</span>\n        slivers<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token keyword">new</span> <span class="token class-name">SliverAppBar</span><span class="token punctuation">(</span>\n            leading<span class="token punctuation">:</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>\n              child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>arrow_back<span class="token punctuation">)</span><span class="token punctuation">,</span>\n              onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//左侧按钮</span>\n            <span class="token comment">/**\n             * 如果没有leading，automaticallyImplyLeading为true，就会默认返回箭头\n             * 如果 没有leading 且为false，空间留给title\n             * 如果有leading，这个参数就无效了\n             */</span>\n            automaticallyImplyLeading<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            <span class="token comment">// title: Text(&#39;大标题&#39;), //标题</span>\n            centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//标题是否居中</span>\n            actions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>archive<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//右侧的内容和点击事件啥的</span>\n            elevation<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">//阴影的高度</span>\n            forceElevated<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否显示阴影</span>\n            backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">,</span> <span class="token comment">//背景颜色</span>\n            brightness<span class="token punctuation">:</span> <span class="token class-name">Brightness</span><span class="token punctuation">.</span>dark<span class="token punctuation">,</span> <span class="token comment">//黑底白字，lignt 白底黑字</span>\n            iconTheme<span class="token punctuation">:</span> <span class="token class-name">IconThemeData</span><span class="token punctuation">(</span>\n                color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n                size<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>\n                opacity<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//所有的icon的样式,不仅仅是左侧的，右侧的也会改变</span>\n            textTheme<span class="token punctuation">:</span> <span class="token class-name">TextTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//字体样式</span>\n            primary<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// appbar是否显示在屏幕的最上面，为false是显示在最上面，为true就显示在状态栏的下面</span>\n            titleSpacing<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token comment">//标题两边的空白区域</span>\n            expandedHeight<span class="token punctuation">:</span> <span class="token number">200.0</span><span class="token punctuation">,</span> <span class="token comment">//默认高度是状态栏和导航栏的高度，如果有滚动视差的话，要大于前两者的高度</span>\n            floating<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//滑动到最上面，再滑动是否隐藏导航栏的文字和标题等的具体内容，为true是隐藏，为false是不隐藏</span>\n            pinned<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否固定导航栏，为true是固定，为false是不固定，往上滑，导航栏可以隐藏</span>\n            snap<span class="token punctuation">:</span>\n                <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//只跟floating相对应，如果为true，floating必须为true，也就是向下滑动一点儿，整个大背景就会动画显示全部，网上滑动整个导航栏的内容就会消失</span>\n            flexibleSpace<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">FlexibleSpaceBar</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;随内容一起滑动的头部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n              collapseMode<span class="token punctuation">:</span> <span class="token class-name">CollapseMode</span><span class="token punctuation">.</span>pin<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token keyword">new</span> <span class="token class-name">SliverFixedExtentList</span><span class="token punctuation">(</span>\n            itemExtent<span class="token punctuation">:</span> <span class="token number">150.0</span><span class="token punctuation">,</span>\n            delegate<span class="token punctuation">:</span>\n                <span class="token keyword">new</span> <span class="token class-name">SliverChildBuilderDelegate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ListTile</span><span class="token punctuation">(</span>\n                      title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;List item $index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>滚动 浮动\nhttp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>ptbird<span class="token punctuation">.</span>cn<span class="token operator">/</span>flutter<span class="token operator">-</span>customscrollview<span class="token operator">-</span>floating<span class="token operator">-</span>appbar<span class="token punctuation">.</span>html\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">TabController</span> _controller<span class="token punctuation">;</span>\n\n<span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    _controller <span class="token operator">=</span> <span class="token class-name">TabController</span><span class="token punctuation">(</span>\n      length<span class="token punctuation">:</span> _tabValues<span class="token punctuation">.</span>length<span class="token punctuation">,</span>\n      vsync<span class="token punctuation">:</span> <span class="token class-name">ScrollableState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n<span class="token class-name">Container</span><span class="token punctuation">(</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">TabBar</span><span class="token punctuation">(</span>\n              tabs<span class="token punctuation">:</span> _tabValues<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              controller<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span>\n              indicatorColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n              indicatorSize<span class="token punctuation">:</span> <span class="token class-name">TabBarIndicatorSize</span><span class="token punctuation">.</span>tab<span class="token punctuation">,</span>\n              isScrollable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n              labelColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n              unselectedLabelColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>\n              indicatorWeight<span class="token punctuation">:</span> <span class="token number">5.0</span><span class="token punctuation">,</span>\n              labelStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n <span class="token class-name">Container</span><span class="token punctuation">(</span>\n            <span class="token comment">// width: 750,</span>\n            height<span class="token punctuation">:</span> <span class="token number">600.0</span><span class="token punctuation">,</span> <span class="token comment">// 非body时 需要指定高度</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">TabBarView</span><span class="token punctuation">(</span>\n              controller<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span>\n              children<span class="token punctuation">:</span> _tabValues<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>\n                  child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="主题themedata" tabindex="-1"><a class="header-anchor" href="#主题themedata" aria-hidden="true">#</a> 主题ThemeData</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">factory</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token class-name">Brightness</span> brightness<span class="token punctuation">,</span> <span class="token comment">// 应用整体主题的亮度。用于按钮之类的小部件，以确定在不使用主色或强调色时选择什么颜色。</span>\n  <span class="token class-name">MaterialColor</span> primarySwatch<span class="token punctuation">,</span><span class="token comment">// 定义一个单一的颜色以及十个色度的色块。</span>\n  <span class="token class-name">Color</span> primaryColor<span class="token punctuation">,</span> <span class="token comment">// 应用程序主要部分的背景颜色(toolbars、tab bars 等)</span>\n  <span class="token class-name">Brightness</span> primaryColorBrightness<span class="token punctuation">,</span> <span class="token comment">// primaryColor的亮度。用于确定文本的颜色和放置在主颜色之上的图标(例如工具栏文本)。</span>\n  <span class="token class-name">Color</span> primaryColorLight<span class="token punctuation">,</span> <span class="token comment">// primaryColor的浅色版</span>\n  <span class="token class-name">Color</span> primaryColorDark<span class="token punctuation">,</span> <span class="token comment">// primaryColor的深色版</span>\n  <span class="token class-name">Color</span> accentColor<span class="token punctuation">,</span> <span class="token comment">// 小部件的前景色(旋钮、文本、覆盖边缘效果等)。</span>\n  <span class="token class-name">Brightness</span> accentColorBrightness<span class="token punctuation">,</span> <span class="token comment">// accentColor的亮度。</span>\n  <span class="token class-name">Color</span> canvasColor<span class="token punctuation">,</span> <span class="token comment">//  MaterialType.canvas 的默认颜色</span>\n  <span class="token class-name">Color</span> scaffoldBackgroundColor<span class="token punctuation">,</span> <span class="token comment">// Scaffold的默认颜色。典型Material应用程序或应用程序内页面的背景颜色。</span>\n  <span class="token class-name">Color</span> bottomAppBarColor<span class="token punctuation">,</span> <span class="token comment">// BottomAppBar的默认颜色</span>\n  <span class="token class-name">Color</span> cardColor<span class="token punctuation">,</span> <span class="token comment">// Card的颜色</span>\n  <span class="token class-name">Color</span> dividerColor<span class="token punctuation">,</span> <span class="token comment">// Divider和PopupMenuDivider的颜色，也用于ListTile之间、DataTable的行之间等。</span>\n  <span class="token class-name">Color</span> highlightColor<span class="token punctuation">,</span> <span class="token comment">// 选中在泼墨动画期间使用的突出显示颜色，或用于指示菜单中的项。</span>\n  <span class="token class-name">Color</span> splashColor<span class="token punctuation">,</span>  <span class="token comment">// 墨水飞溅的颜色。InkWell</span>\n  <span class="token class-name">InteractiveInkFeatureFactory</span> splashFactory<span class="token punctuation">,</span> <span class="token comment">// 定义由InkWell和InkResponse反应产生的墨溅的外观。</span>\n  <span class="token class-name">Color</span> selectedRowColor<span class="token punctuation">,</span> <span class="token comment">// 用于突出显示选定行的颜色。</span>\n  <span class="token class-name">Color</span> unselectedWidgetColor<span class="token punctuation">,</span> <span class="token comment">// 用于处于非活动(但已启用)状态的小部件的颜色。例如，未选中的复选框。通常与accentColor形成对比。也看到disabledColor。</span>\n  <span class="token class-name">Color</span> disabledColor<span class="token punctuation">,</span> <span class="token comment">// 禁用状态下部件的颜色，无论其当前状态如何。例如，一个禁用的复选框(可以选中或未选中)。</span>\n  <span class="token class-name">Color</span> buttonColor<span class="token punctuation">,</span> <span class="token comment">// RaisedButton按钮中使用的Material 的默认填充颜色。</span>\n  <span class="token class-name">ButtonThemeData</span> buttonTheme<span class="token punctuation">,</span> <span class="token comment">// 定义按钮部件的默认配置，如RaisedButton和FlatButton。</span>\n  <span class="token class-name">Color</span> secondaryHeaderColor<span class="token punctuation">,</span> <span class="token comment">// 选定行时PaginatedDataTable标题的颜色。</span>\n  <span class="token class-name">Color</span> textSelectionColor<span class="token punctuation">,</span> <span class="token comment">// 文本框中文本选择的颜色，如TextField</span>\n  <span class="token class-name">Color</span> cursorColor<span class="token punctuation">,</span> <span class="token comment">// 文本框中光标的颜色，如TextField</span>\n  <span class="token class-name">Color</span> textSelectionHandleColor<span class="token punctuation">,</span>  <span class="token comment">// 用于调整当前选定的文本部分的句柄的颜色。</span>\n  <span class="token class-name">Color</span> backgroundColor<span class="token punctuation">,</span> <span class="token comment">// 与主色形成对比的颜色，例如用作进度条的剩余部分。</span>\n  <span class="token class-name">Color</span> dialogBackgroundColor<span class="token punctuation">,</span> <span class="token comment">// Dialog 元素的背景颜色</span>\n  <span class="token class-name">Color</span> indicatorColor<span class="token punctuation">,</span> <span class="token comment">// 选项卡中选定的选项卡指示器的颜色。</span>\n  <span class="token class-name">Color</span> hintColor<span class="token punctuation">,</span> <span class="token comment">// 用于提示文本或占位符文本的颜色，例如在TextField中。</span>\n  <span class="token class-name">Color</span> errorColor<span class="token punctuation">,</span> <span class="token comment">// 用于输入验证错误的颜色，例如在TextField中</span>\n  <span class="token class-name">Color</span> toggleableActiveColor<span class="token punctuation">,</span> <span class="token comment">// 用于突出显示Switch、Radio和Checkbox等可切换小部件的活动状态的颜色。</span>\n  <span class="token class-name">String</span> fontFamily<span class="token punctuation">,</span> <span class="token comment">// 文本字体</span>\n  <span class="token class-name">TextTheme</span> textTheme<span class="token punctuation">,</span> <span class="token comment">// 文本的颜色与卡片和画布的颜色形成对比。</span>\n  <span class="token class-name">TextTheme</span> primaryTextTheme<span class="token punctuation">,</span> <span class="token comment">// 与primaryColor形成对比的文本主题</span>\n  <span class="token class-name">TextTheme</span> accentTextTheme<span class="token punctuation">,</span> <span class="token comment">// 与accentColor形成对比的文本主题。</span>\n  <span class="token class-name">InputDecorationTheme</span> inputDecorationTheme<span class="token punctuation">,</span> <span class="token comment">// 基于这个主题的 InputDecorator、TextField和TextFormField的默认InputDecoration值。</span>\n  <span class="token class-name">IconThemeData</span> iconTheme<span class="token punctuation">,</span> <span class="token comment">// 与卡片和画布颜色形成对比的图标主题</span>\n  <span class="token class-name">IconThemeData</span> primaryIconTheme<span class="token punctuation">,</span> <span class="token comment">// 与primaryColor形成对比的图标主题</span>\n  <span class="token class-name">IconThemeData</span> accentIconTheme<span class="token punctuation">,</span> <span class="token comment">// 与accentColor形成对比的图标主题。</span>\n  <span class="token class-name">SliderThemeData</span> sliderTheme<span class="token punctuation">,</span>  <span class="token comment">// 用于呈现Slider的颜色和形状</span>\n  <span class="token class-name">TabBarTheme</span> tabBarTheme<span class="token punctuation">,</span> <span class="token comment">// 用于自定义选项卡栏指示器的大小、形状和颜色的主题。</span>\n  <span class="token class-name">CardTheme</span> cardTheme<span class="token punctuation">,</span> <span class="token comment">// Card的颜色和样式</span>\n  <span class="token class-name">ChipThemeData</span> chipTheme<span class="token punctuation">,</span> <span class="token comment">// Chip的颜色和样式</span>\n  <span class="token class-name">TargetPlatform</span> platform<span class="token punctuation">,</span> \n  <span class="token class-name">MaterialTapTargetSize</span> materialTapTargetSize<span class="token punctuation">,</span> <span class="token comment">// 配置某些Material部件的命中测试大小</span>\n  <span class="token class-name">PageTransitionsTheme</span> pageTransitionsTheme<span class="token punctuation">,</span> \n  <span class="token class-name">AppBarTheme</span> appBarTheme<span class="token punctuation">,</span> <span class="token comment">// 用于自定义Appbar的颜色、高度、亮度、iconTheme和textTheme的主题。</span>\n  <span class="token class-name">BottomAppBarTheme</span> bottomAppBarTheme<span class="token punctuation">,</span> <span class="token comment">// 自定义BottomAppBar的形状、高度和颜色的主题。</span>\n  <span class="token class-name">ColorScheme</span> colorScheme<span class="token punctuation">,</span> <span class="token comment">// 拥有13种颜色，可用于配置大多数组件的颜色。</span>\n  <span class="token class-name">DialogTheme</span> dialogTheme<span class="token punctuation">,</span> <span class="token comment">// 自定义Dialog的主题形状</span>\n  <span class="token class-name">Typography</span> typography<span class="token punctuation">,</span> <span class="token comment">// 用于配置TextTheme、primaryTextTheme和accentTextTheme的颜色和几何TextTheme值。</span>\n  <span class="token class-name">CupertinoThemeData</span> cupertinoOverrideTheme \n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h2 id="safearea" tabindex="-1"><a class="header-anchor" href="#safearea" aria-hidden="true">#</a> safearea</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>屏幕适配\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="webview" tabindex="-1"><a class="header-anchor" href="#webview" aria-hidden="true">#</a> webview</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>插件\nhttps://pub.dev/packages/webview_flutter\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>拦截返回\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:webview_flutter/webview_flutter.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Case</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token class-name">Case</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>\n  <span class="token metadata symbol">@override</span>\n  _CaseState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_CaseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _CaseState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Case</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&#39;https://m.jia.top/sz/design/index?hideLeftArrow=1&#39;</span><span class="token punctuation">;</span>\n  <span class="token class-name">WebViewController</span> _webViewController<span class="token punctuation">;</span>\n  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">_requestPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// Navigator.of(context).pop(100);</span>\n\n    <span class="token comment">///弹出页面并传回int值100，用于上一个界面的回调</span>\n    <span class="token comment">// return new Future.value(false);</span>\n    <span class="token class-name">Future</span> canGoBack <span class="token operator">=</span> _webViewController<span class="token punctuation">.</span><span class="token function">canGoBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    canGoBack<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        _webViewController<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">WillPopScope</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span>\n        initialUrl<span class="token punctuation">:</span> url<span class="token punctuation">,</span>\n        javascriptMode<span class="token punctuation">:</span> <span class="token class-name">JavascriptMode</span><span class="token punctuation">.</span>unrestricted<span class="token punctuation">,</span>\n        onWebViewCreated<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">WebViewController</span> webViewController<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// 在WebView创建完成后会产生一个 webViewController</span>\n          _webViewController <span class="token operator">=</span> webViewController<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      onWillPop<span class="token punctuation">:</span> _requestPop<span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="布局" tabindex="-1"><a class="header-anchor" href="#布局" aria-hidden="true">#</a> 布局</h2><h3 id="container" tabindex="-1"><a class="header-anchor" href="#container" aria-hidden="true">#</a> container</h3><p>绘制顺序</p><ol><li>transform</li><li>decoration</li><li>child</li><li>foregroundDecoration</li></ol><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">HomeContent</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      height<span class="token punctuation">:</span> <span class="token number">200.0</span><span class="token punctuation">,</span>\n      width<span class="token punctuation">:</span> <span class="token number">300.0</span><span class="token punctuation">,</span>\n      padding<span class="token punctuation">:</span><span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      alignment<span class="token punctuation">:</span><span class="token class-name">Alignment</span><span class="token punctuation">.</span>centerRight<span class="token punctuation">,</span>\n      decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>\n          color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>yellow<span class="token punctuation">,</span>\n          border<span class="token punctuation">:</span> <span class="token class-name">Border</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>\n            width<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>\n            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h3 id="align" tabindex="-1"><a class="header-anchor" href="#align" aria-hidden="true">#</a> Align</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">Align</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>widthFactor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>heightFactor<span class="token punctuation">,</span>\n    <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="intrinsicheight" tabindex="-1"><a class="header-anchor" href="#intrinsicheight" aria-hidden="true">#</a> IntrinsicHeight</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>IntrinsicHeight可以根据子控件的高度，智能调整自身高度\n解决 row 》 column 》 Expanded 保存问题\nIntrinsicHeight(\nchild:Row(\n\tchildren:[\n\t\tColumn(\n\t\t\tchildren:[\n\t\t\t\tExpanded()\n\t\t\t]\n\t\t)\n\t]\n)\n);\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="row" tabindex="-1"><a class="header-anchor" href="#row" aria-hidden="true">#</a> Row</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Row</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token comment">// 主轴 水平方向</span>\n    <span class="token class-name">MainAxisAlignment</span> mainAxisAlignment <span class="token operator">=</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n    <span class="token class-name">MainAxisSize</span> mainAxisSize <span class="token operator">=</span> <span class="token class-name">MainAxisSize</span><span class="token punctuation">.</span>max<span class="token punctuation">,</span>\n    <span class="token comment">// 主轴 垂直方向</span>\n    <span class="token class-name">CrossAxisAlignment</span> crossAxisAlignment <span class="token operator">=</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n    <span class="token class-name">TextDirection</span> textDirection<span class="token punctuation">,</span>\n    <span class="token class-name">VerticalDirection</span> verticalDirection <span class="token operator">=</span> <span class="token class-name">VerticalDirection</span><span class="token punctuation">.</span>down<span class="token punctuation">,</span>\n    <span class="token class-name">TextBaseline</span> textBaseline<span class="token punctuation">,</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    \n<span class="token class-name">IntrinsicHeight</span>  所有的子组件 大小 等于最大子组件\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="column" tabindex="-1"><a class="header-anchor" href="#column" aria-hidden="true">#</a> Column</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Column</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n     <span class="token comment">// 主轴 垂直方向</span>\n    <span class="token class-name">MainAxisAlignment</span> mainAxisAlignment <span class="token operator">=</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n     <span class="token comment">// 盒子 max=block min=aline</span>\n    <span class="token class-name">MainAxisSize</span> mainAxisSize <span class="token operator">=</span> <span class="token class-name">MainAxisSize</span><span class="token punctuation">.</span>max<span class="token punctuation">,</span>\n     <span class="token comment">// 副轴\t水平方向</span>\n    <span class="token class-name">CrossAxisAlignment</span> crossAxisAlignment <span class="token operator">=</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n    <span class="token class-name">TextDirection</span> textDirection<span class="token punctuation">,</span>\n     <span class="token comment">// item 排序方式 </span>\n    <span class="token class-name">VerticalDirection</span> verticalDirection <span class="token operator">=</span> <span class="token class-name">VerticalDirection</span><span class="token punctuation">.</span>down<span class="token punctuation">,</span>\n    <span class="token class-name">TextBaseline</span> textBaseline<span class="token punctuation">,</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="expanded" tabindex="-1"><a class="header-anchor" href="#expanded" aria-hidden="true">#</a> Expanded</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>body<span class="token punctuation">:</span><span class="token class-name">Column</span><span class="token punctuation">(</span>\n  mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n  children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n    <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;I am JSPang&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token comment">// 当前元素 最大占据</span>\n    <span class="token class-name">Expanded</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;my website is jspang.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;I love coding&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="circleavatar" tabindex="-1"><a class="header-anchor" href="#circleavatar" aria-hidden="true">#</a> CircleAvatar</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>  <span class="token keyword">const</span> <span class="token class-name">CircleAvatar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundImage<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onBackgroundImageError<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>foregroundColor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>minRadius<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxRadius<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="stack" tabindex="-1"><a class="header-anchor" href="#stack" aria-hidden="true">#</a> Stack</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token class-name">AlignmentDirectional</span><span class="token punctuation">.</span>topStart<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textDirection<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fit <span class="token operator">=</span> <span class="token class-name">StackFit</span><span class="token punctuation">.</span>loose<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token class-name">Overflow</span><span class="token punctuation">.</span>clip<span class="token punctuation">,</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n     \n     \n<span class="token keyword">var</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span>\n\n        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token keyword">new</span> <span class="token class-name">CircleAvatar</span><span class="token punctuation">(</span>\n            backgroundImage<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">NetworkImage</span><span class="token punctuation">(</span><span class="token string">&#39;http://jspang.com/static//myimg/blogtouxiang.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            radius<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token keyword">new</span> <span class="token class-name">Positioned</span><span class="token punctuation">(</span>\n            top<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n            left<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;JSPang.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token keyword">new</span> <span class="token class-name">Positioned</span><span class="token punctuation">(</span> <span class="token comment">// 定位</span>\n            bottom<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n            right<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>sliverList</p><p>sliverAppBar</p><p>pageview.builder 有懒加载</p><h2 id="wrap" tabindex="-1"><a class="header-anchor" href="#wrap" aria-hidden="true">#</a> Wrap</h2><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>direction</td><td>axis</td><td></td></tr><tr><td>alignment</td><td></td><td></td></tr><tr><td>runSpacing</td><td></td><td></td></tr><tr><td>runAlignment</td><td></td><td></td></tr><tr><td>crossAxisAlignment</td><td></td><td></td></tr><tr><td>VerticalDirection</td><td></td><td></td></tr><tr><td>textDirection</td><td></td><td></td></tr><tr><td>children</td><td></td><td></td></tr></tbody></table><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Wrap</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token class-name">Axis</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span>   <span class="token comment">//排列方向，默认水平方向排列</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token class-name">WrapAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>  <span class="token comment">//子控件在主轴上的对齐方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>spacing <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token comment">//主轴上子控件中间的间距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>runAlignment <span class="token operator">=</span> <span class="token class-name">WrapAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>  <span class="token comment">//子控件在交叉轴上的对齐方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>runSpacing <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token comment">//交叉轴上子控件之间的间距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>crossAxisAlignment <span class="token operator">=</span> <span class="token class-name">WrapCrossAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>   <span class="token comment">//交叉轴上子控件的对齐方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textDirection<span class="token punctuation">,</span>   <span class="token comment">//textDirection水平方向上子控件的起始位置</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>verticalDirection <span class="token operator">=</span> <span class="token class-name">VerticalDirection</span><span class="token punctuation">.</span>down<span class="token punctuation">,</span>  <span class="token comment">//垂直方向上子控件的其实位置</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">//要显示的子控件集合</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="辅助布局" tabindex="-1"><a class="header-anchor" href="#辅助布局" aria-hidden="true">#</a> 辅助布局</h2><h4 id="center" tabindex="-1"><a class="header-anchor" href="#center" aria-hidden="true">#</a> center</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h4 id="sizebox" tabindex="-1"><a class="header-anchor" href="#sizebox" aria-hidden="true">#</a> SizeBox</h4><h4 id="aspectratio" tabindex="-1"><a class="header-anchor" href="#aspectratio" aria-hidden="true">#</a> AspectRatio</h4><h4 id="fractionallysizedbox" tabindex="-1"><a class="header-anchor" href="#fractionallysizedbox" aria-hidden="true">#</a> FractionallySizedBox</h4><h4 id="card" tabindex="-1"><a class="header-anchor" href="#card" aria-hidden="true">#</a> card</h4><h2 id="transform" tabindex="-1"><a class="header-anchor" href="#transform" aria-hidden="true">#</a> Transform</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Transform</span><span class="token punctuation">(</span>\n     origin<span class="token punctuation">:</span> <span class="token class-name">Offset</span><span class="token punctuation">(</span><span class="token number">57.</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">34.</span>h <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n     transform<span class="token punctuation">:</span> <span class="token class-name">Matrix4</span><span class="token punctuation">.</span><span class="token function">rotationZ</span><span class="token punctuation">(</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n     child<span class="token punctuation">:</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span>\n            <span class="token string">&#39;images/next.png&#39;</span><span class="token punctuation">,</span>\n             width<span class="token punctuation">:</span> <span class="token number">57.</span>w<span class="token punctuation">,</span>\n             height<span class="token punctuation">:</span> <span class="token number">34.</span>h<span class="token punctuation">,</span>\n           <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="裁剪" tabindex="-1"><a class="header-anchor" href="#裁剪" aria-hidden="true">#</a> 裁剪</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ClipOval: 圆形裁剪\nClipRRect: 圆角矩形裁剪\nClipRect：矩形裁剪\nClipPath: 路径裁剪\n\nnone：不裁剪\nhardEdge：裁剪但不应用抗锯齿\nantiAlias：裁剪且应用抗锯齿，此方式看起来会更平滑，通常用于处理圆形和弧形裁剪\nantiAliasWithSaveLayer：裁剪、应用抗锯齿且有一个缓冲区，此方式裁剪很慢。\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="辅助样式" tabindex="-1"><a class="header-anchor" href="#辅助样式" aria-hidden="true">#</a> 辅助样式</h2><p>color</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Color</span> _bottombarcolor <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFFF63515</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="boxshadow" tabindex="-1"><a class="header-anchor" href="#boxshadow" aria-hidden="true">#</a> BoxShadow</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  const BoxShadow({\n    Color color = const Color(0xFF000000),//阴影默认颜色,不能与父容器同时设置color\n    Offset offset = Offset.zero,//延伸的阴影，向右下偏移的距离\n    double blurRadius = 0.0,//延伸距离,会有模糊效果\n    this.spreadRadius = 0.0 //延伸距离,不会有模糊效果\n    })\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="padding" tabindex="-1"><a class="header-anchor" href="#padding" aria-hidden="true">#</a> padding</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>\t用法<span class="token punctuation">:</span>\n<span class="token class-name">Padding</span><span class="token punctuation">(</span>\n\tpadding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tchild<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span>\n\n    属性<span class="token punctuation">:</span>\npadding<span class="token punctuation">:</span>\n\t<span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//全部 padding:</span>\n\t<span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>\t<span class="token comment">//padding-top:</span>\n    \tleft<span class="token punctuation">:</span><span class="token number">20.0</span><span class="token punctuation">,</span>\n        top<span class="token punctuation">:</span><span class="token number">20.0</span><span class="token punctuation">,</span>\n        right<span class="token punctuation">:</span><span class="token number">20.0</span><span class="token punctuation">,</span>\n        bottom<span class="token punctuation">:</span><span class="token number">20.0</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>\n    \tvertical<span class="token punctuation">:</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token comment">//垂直方向 padding-top/bottom 100</span>\n        horizontal<span class="token punctuation">:</span><span class="token number">100.0</span>  <span class="token comment">//水平方向</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span>\n    \tleft<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n        top<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n        right<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n        bottom<span class="token punctuation">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="alignment" tabindex="-1"><a class="header-anchor" href="#alignment" aria-hidden="true">#</a> Alignment</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">Align</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>widthFactor<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>heightFactor<span class="token punctuation">,</span>\n    <span class="token class-name">Widget</span> child\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    \n\n\nalignment<span class="token punctuation">:</span> \n\t<span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n\t<span class="token class-name">Alignment</span><span class="token punctuation">.</span>topLeft<span class="token punctuation">,</span>\n\t<span class="token class-name">Alignment</span><span class="token punctuation">.</span>topCenter<span class="token punctuation">,</span>\n\t<span class="token class-name">Alignment</span><span class="token punctuation">.</span>topRight<span class="token punctuation">,</span>\n\t<span class="token class-name">Alignment</span><span class="token punctuation">.</span>centerLeft<span class="token punctuation">,</span>\n\t<span class="token class-name">Alignment</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//中心为(0,0) (1,1)为右下角</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="textdirection" tabindex="-1"><a class="header-anchor" href="#textdirection" aria-hidden="true">#</a> textDirection</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 文字排列方式</span>\ntextDirection<span class="token punctuation">:</span>\n\t<span class="token class-name">TextDirection</span><span class="token punctuation">.</span>ltr<span class="token punctuation">;</span>\n\t<span class="token class-name">TextDirection</span><span class="token punctuation">.</span>rtl<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="boxfit" tabindex="-1"><a class="header-anchor" href="#boxfit" aria-hidden="true">#</a> BoxFit</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>fit<span class="token punctuation">:</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>fit \t\t\t<span class="token comment">//全图显示 充满父容器</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>contain\t\t<span class="token comment">//全图显示 显示原比例 可能会有空隙</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>cover\t\t<span class="token comment">//显示可能拉伸，可能裁切，充满</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>fitWidth\t\t<span class="token comment">//宽度充满 会拉伸</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>fitHeight\t<span class="token comment">//高度充满</span>\n\t<span class="token class-name">BoxFit</span><span class="token punctuation">.</span>scaleDown\t<span class="token comment">//不允许显示超过源图片大小，可小不可大</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="icon" tabindex="-1"><a class="header-anchor" href="#icon" aria-hidden="true">#</a> Icon</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Icon</span><span class="token punctuation">(</span>\n   <span class="token class-name">Icons</span><span class="token punctuation">.</span>search<span class="token punctuation">,</span>\n   color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xffcccccc</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n   size<span class="token punctuation">:</span><span class="token number">18.0</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>BoxDecoration</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gradient:LinearGradient() //.渐变\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="image" tabindex="-1"><a class="header-anchor" href="#image" aria-hidden="true">#</a> image</h2><ul><li><p>Image.asset 本地</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span>\n    <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token class-name">AssetBundle</span> bundle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>frameBuilder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorBuilder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>semanticLabel<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>excludeFromSemantics <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    double scale<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>colorBlendMode<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fit<span class="token punctuation">,</span>\n        <span class="token operator">|</span><span class="token operator">-</span><span class="token class-name">BoxFit</span><span class="token punctuation">.</span>cover <span class="token comment">//不变形</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>repeat <span class="token operator">=</span> <span class="token class-name">ImageRepeat</span><span class="token punctuation">.</span>noRepeat<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>centerSlice<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>matchTextDirection <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>gaplessPlayback <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token class-name">String</span> package<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>filterQuality <span class="token operator">=</span> <span class="token class-name">FilterQuality</span><span class="token punctuation">.</span>low<span class="token punctuation">,</span>\n    int cacheWidth<span class="token punctuation">,</span>\n    int cacheHeight<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>lib同级目录下 创建images文件\n\n<span class="token operator">|</span><span class="token operator">-</span>images\n\t<span class="token operator">|</span><span class="token operator">-</span><span class="token number">2.0</span>x\n\t<span class="token operator">|</span><span class="token operator">-</span><span class="token number">3.0</span>x\n\t<span class="token operator">|</span><span class="token operator">-</span>a<span class="token punctuation">.</span>png\n\t\n<span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">&#39;images/logo.png&#39;</span><span class="token punctuation">)</span>\n    \n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> pubspec.yaml \n \nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n  assets:\n    - images/logo.png\n    - images/2.0x/logo.png\n    - images/3.0x/logo.png\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>Image.network 网路</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">.</span>network <span class="token punctuation">(</span><span class="token string">&#39;https://test.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>Image.file</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>加载本地图片\n<span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&#39;/storage/xxx/xxx/test.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h1 id="form" tabindex="-1"><a class="header-anchor" href="#form" aria-hidden="true">#</a> form</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>\n<span class="token keyword">class</span> <span class="token class-name">MyStatefulWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token class-name">MyStatefulWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token metadata symbol">@override</span>\n  _MyStatefulWidgetState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MyStatefulWidgetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _MyStatefulWidgetState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyStatefulWidget</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> _formKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> userName <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 声明</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    userName<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&#39;22220&#39;</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    \n    <span class="token keyword">return</span> <span class="token class-name">Form</span><span class="token punctuation">(</span>\n        autovalidateMode<span class="token punctuation">:</span> <span class="token class-name">AutovalidateMode</span><span class="token punctuation">.</span>onUserInteraction<span class="token punctuation">,</span>\n      key<span class="token punctuation">:</span> _formKey<span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n        crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>\n            \n            decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n              hintText<span class="token punctuation">:</span> <span class="token string">&#39;Enter your email&#39;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> <span class="token string">&#39;Please enter some text&#39;</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span>\n              <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            controller<span class="token punctuation">:</span> userName<span class="token punctuation">,</span> <span class="token comment">//绑定</span>\n            onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>\n              <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;$value&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n              <span class="token function">print</span><span class="token punctuation">(</span>userName<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 双向绑定</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>vertical<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>\n              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token comment">// 校验</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span>_formKey<span class="token punctuation">.</span>currentState<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                  <span class="token comment">// Process data.</span>\n                  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;sss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n              <span class="token punctuation">}</span><span class="token punctuation">,</span>\n              child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;Submit&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n             <span class="token class-name">Checkbox</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>flag<span class="token punctuation">,</span> onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> value<span class="token punctuation">;</span>\n              <span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h3 id="input" tabindex="-1"><a class="header-anchor" href="#input" aria-hidden="true">#</a> input</h3><p>isCollapsed:true 去除外边框</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">,</span>    <span class="token comment">//编辑框的控制器，跟文本框的交互一般都通过该属性完成，如果不创建的话默认会自动创建</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusNode<span class="token punctuation">,</span>  <span class="token comment">//用于管理焦点</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>decoration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">//输入框的装饰器，用来修改外观</span>\n    <span class="token class-name">TextInputType</span> keyboardType<span class="token punctuation">,</span>   <span class="token comment">//设置输入类型，不同的输入类型键盘不一样</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textInputAction<span class="token punctuation">,</span>   <span class="token comment">//用于控制键盘动作（一般位于右下角，默认是完成）</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textCapitalization <span class="token operator">=</span> <span class="token class-name">TextCapitalization</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">,</span>    <span class="token comment">//输入的文本样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>   <span class="token comment">//输入的文本位置</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textDirection<span class="token punctuation">,</span>    <span class="token comment">//输入的文字排列方向，一般不会修改这个属性</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autofocus <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   <span class="token comment">//是否自动获取焦点</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   <span class="token comment">//是否隐藏输入的文字，一般用在密码输入框中</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autocorrect <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>   <span class="token comment">//是否自动校验</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">//最大行</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLength<span class="token punctuation">,</span>   <span class="token comment">//能输入的最大字符个数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLengthEnforced <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//配合maxLength一起使用，在达到最大长度时是否阻止输入</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span>  <span class="token comment">//输入文本发生变化时的回调</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onEditingComplete<span class="token punctuation">,</span>   <span class="token comment">//点击键盘完成按钮时触发的回调，该回调没有参数，(){}</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onSubmitted<span class="token punctuation">,</span>  <span class="token comment">//同样是点击键盘完成按钮时触发的回调，该回调有参数，参数即为当前输入框中的值。(String){}</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>inputFormatters<span class="token punctuation">,</span>   <span class="token comment">//对输入文本的校验</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabled<span class="token punctuation">,</span>    <span class="token comment">//输入框是否可用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorWidth <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span>  <span class="token comment">//光标的宽度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorRadius<span class="token punctuation">,</span>  <span class="token comment">//光标的圆角</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorColor<span class="token punctuation">,</span>  <span class="token comment">//光标的颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>keyboardAppearance<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollPadding <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>dragStartBehavior <span class="token operator">=</span> <span class="token class-name">DragStartBehavior</span><span class="token punctuation">.</span>down<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enableInteractiveSelection<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>    <span class="token comment">//点击输入框时的回调(){}</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>buildCounter<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="表单验证" tabindex="-1"><a class="header-anchor" href="#表单验证" aria-hidden="true">#</a> 表单验证</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://www.jianshu.com/p/3fb613ffac22\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="光标控制" tabindex="-1"><a class="header-anchor" href="#光标控制" aria-hidden="true">#</a> 光标控制</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>_editingController<span class="token punctuation">.</span>text <span class="token operator">=</span> suggestion<span class="token punctuation">;</span>\n<span class="token keyword">final</span> length <span class="token operator">=</span> suggestion<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n_editingController<span class="token punctuation">.</span>selection <span class="token operator">=</span> <span class="token class-name">TextSelection</span><span class="token punctuation">(</span>baseOffset<span class="token punctuation">:</span>length <span class="token punctuation">,</span> extentOffset<span class="token punctuation">:</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n全选\n  _editingController<span class="token punctuation">.</span>selection <span class="token operator">=</span> <span class="token class-name">TextSelection</span><span class="token punctuation">(</span>baseOffset<span class="token punctuation">:</span><span class="token number">0</span> <span class="token punctuation">,</span> extentOffset<span class="token punctuation">:</span> text<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="textformfield" tabindex="-1"><a class="header-anchor" href="#textformfield" aria-hidden="true">#</a> TextFormField</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">TextFormField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    controller<span class="token punctuation">,</span><span class="token comment">//常用于赋值和取值操作</span>\n    <span class="token class-name">String</span> initialValue<span class="token punctuation">,</span>\n    <span class="token class-name">FocusNode</span> focusNode<span class="token punctuation">,</span><span class="token comment">//用于监听焦点状态</span>\n    <span class="token class-name">InputDecoration</span> decoration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//输入框的装饰器，用来修改外观</span>\n    <span class="token class-name">TextInputType</span> keyboardType<span class="token punctuation">,</span><span class="token comment">//设置输入类型，不同的输入类型键盘不一样</span>\n    <span class="token class-name">TextCapitalization</span> textCapitalization <span class="token operator">=</span> <span class="token class-name">TextCapitalization</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span><span class="token comment">//开启键盘选择大写或小写</span>\n        <span class="token keyword">enum</span> <span class="token class-name">TextCapitalization</span> <span class="token punctuation">{</span>\n          words<span class="token punctuation">,</span><span class="token comment">//默认为每个单词的第一个字母使用大写键盘。</span>\n          sentences<span class="token punctuation">,</span><span class="token comment">//默认为每个句子的第一个字母使用大写键盘。</span>\n          characters<span class="token punctuation">,</span><span class="token comment">//每个字符默认使用大写键盘。</span>\n          none<span class="token punctuation">,</span><span class="token comment">// 默认为小写键盘。</span>\n        <span class="token punctuation">}</span>\n    <span class="token class-name">TextInputAction</span> textInputAction<span class="token punctuation">,</span> <span class="token comment">//用于控制键盘动作（一般位于右下角，默认是完成）</span>\n    <span class="token class-name">TextStyle</span> style<span class="token punctuation">,</span><span class="token comment">//输入的文本样式</span>\n    <span class="token class-name">StrutStyle</span> strutStyle<span class="token punctuation">,</span>\n    <span class="token class-name">TextDirection</span> textDirection<span class="token punctuation">,</span><span class="token comment">//输入的文字排列方向，一般不会修改这个属性</span>\n    <span class="token class-name">TextAlign</span> textAlign <span class="token operator">=</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>  <span class="token comment">//输入的文本位置</span>\n    <span class="token class-name">TextAlignVertical</span> textAlignVertical<span class="token punctuation">,</span>\n    bool autofocus <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否自动获取焦点</span>\n    bool readOnly <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//文本是否可以更改。当设置为true时，文本不能通过任何快捷键或键盘操作进行修改。文本仍然是可选择的。</span>\n    <span class="token class-name">ToolbarOptions</span> toolbarOptions<span class="token punctuation">,</span><span class="token comment">//默认工具栏选项，当用户右键单击或长按EditableText时将显示该菜单。它包括几个选项：剪切，复制，粘贴和全选。</span>\n    bool showCursor<span class="token punctuation">,</span><span class="token comment">//是否显示光标</span>\n    bool obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否隐藏正在编辑的文本 （密码）</span>\n    bool autocorrect <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否启用自动效验</span>\n    bool enableSuggestions <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否在输入时给出建议</span>\n    bool autovalidate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    bool maxLengthEnforced <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//配合maxLength一起使用，在达到最大长度时是否阻止输入</span>\n    int maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//输入文本最大显示行数</span>\n    int minLines<span class="token punctuation">,</span><span class="token comment">//输入文本最小显示行数</span>\n    bool expands <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    int maxLength<span class="token punctuation">,</span><span class="token comment">//输入文本可输入最长字符长度</span>\n    <span class="token class-name">ValueChanged</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onChanged<span class="token punctuation">,</span><span class="token comment">//输入文本发生变化时的回调</span>\n    <span class="token class-name">GestureTapCallback</span> onTap<span class="token punctuation">,</span><span class="token comment">//单击输入文本框时回调</span>\n    <span class="token class-name">VoidCallback</span> onEditingComplete<span class="token punctuation">,</span><span class="token comment">//点击键盘完成按钮时触发的回调，该回调没有参数，(){}</span>\n    <span class="token class-name">ValueChanged</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onFieldSubmitted<span class="token punctuation">,</span><span class="token comment">//当用户指示他们已完成字段中文本的编辑时调用。</span>\n    <span class="token class-name">FormFieldSetter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onSaved<span class="token punctuation">,</span><span class="token comment">//配合Form使用由_formKey.currentState.save();触发保存数据，赋值操作。</span>\n    <span class="token class-name">FormFieldValidator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> validator<span class="token punctuation">,</span><span class="token comment">//配合Form使用由_formKey.currentState.validate();触发，常用检查否错误，并返回提示用户，返回内容赋值给 errorText</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TextInputFormatter</span><span class="token punctuation">&gt;</span></span> inputFormatters<span class="token punctuation">,</span><span class="token comment">//输入文本规则限制</span>\n              <span class="token punctuation">[</span>\n             <span class="token class-name">FilteringTextInputFormatter</span><span class="token punctuation">.</span><span class="token function">allow</span><span class="token punctuation">(</span><span class="token class-name">RegExp</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token class-name">FilteringTextInputFormatter</span><span class="token punctuation">.</span><span class="token function">deny</span><span class="token punctuation">(</span><span class="token class-name">RegExp</span><span class="token punctuation">)</span>\n              <span class="token class-name">BlacklistingTextInputFormatter</span><span class="token punctuation">(</span><span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;[a-z]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>除了小写的a<span class="token operator">-</span>z都可以输入\n              <span class="token class-name">LengthLimitingTextInputFormatter</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>\n              <span class="token punctuation">]</span><span class="token comment">//限制输入字符长度</span>\n    bool enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    double cursorWidth <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span><span class="token comment">//光标的宽度</span>\n    <span class="token class-name">Radius</span> cursorRadius<span class="token punctuation">,</span><span class="token comment">//光标的圆角</span>\n    <span class="token class-name">Color</span> cursorColor<span class="token punctuation">,</span> <span class="token comment">//光标的颜色</span>\n    <span class="token class-name">Brightness</span> keyboardAppearance<span class="token punctuation">,</span><span class="token comment">//键盘外观</span>\n    <span class="token class-name">EdgeInsets</span> scrollPadding <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    bool enableInteractiveSelection <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//如果为真，则长按此文本字段将选择文本并显示剪切/复制/粘贴菜单，而轻击将移动文本插入符号。[…]</span>\n    <span class="token class-name">InputCounterWidgetBuilder</span> buildCounter<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>icon<span class="token punctuation">,</span>    <span class="token comment">//位于装饰器外部和输入框前面的图片</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelText<span class="token punctuation">,</span>  <span class="token comment">//用于描述输入框，例如这个输入框是用来输入用户名还是密码的，当输入框获取焦点时默认会浮动到上方，</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelStyle<span class="token punctuation">,</span>  <span class="token comment">// 控制labelText的样式,接收一个TextStyle类型的值</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>helperText<span class="token punctuation">,</span> <span class="token comment">//辅助文本，位于输入框下方，如果errorText不为空的话，则helperText不会显示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>helperStyle<span class="token punctuation">,</span> <span class="token comment">//helperText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintText<span class="token punctuation">,</span>  <span class="token comment">//提示文本，位于输入框内部</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintStyle<span class="token punctuation">,</span> <span class="token comment">//hintText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintMaxLines<span class="token punctuation">,</span> <span class="token comment">//提示信息最大行数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorText<span class="token punctuation">,</span>  <span class="token comment">//错误信息提示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorStyle<span class="token punctuation">,</span> <span class="token comment">//errorText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorMaxLines<span class="token punctuation">,</span>   <span class="token comment">//errorText最大行数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hasFloatingPlaceholder <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//labelText是否浮动，默认为true，修改为false则labelText在输入框获取焦点时不会浮动且不显示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isDense<span class="token punctuation">,</span>   <span class="token comment">//改变输入框是否为密集型，默认为false，修改为true时，图标及间距会变小</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>contentPadding<span class="token punctuation">,</span> <span class="token comment">//内间距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixIcon<span class="token punctuation">,</span>  <span class="token comment">//位于输入框内部起始位置的图标。</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefix<span class="token punctuation">,</span>   <span class="token comment">//预先填充的Widget,跟prefixText同时只能出现一个</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixText<span class="token punctuation">,</span>  <span class="token comment">//预填充的文本，例如手机号前面预先加上区号等</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixStyle<span class="token punctuation">,</span>  <span class="token comment">//prefixText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixIcon<span class="token punctuation">,</span> <span class="token comment">//位于输入框后面的图片,例如一般输入框后面会有个眼睛，控制输入内容是否明文</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffix<span class="token punctuation">,</span>  <span class="token comment">//位于输入框尾部的控件，同样的不能和suffixText同时使用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixText<span class="token punctuation">,</span><span class="token comment">//位于尾部的填充文字</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixStyle<span class="token punctuation">,</span>  <span class="token comment">//suffixText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">,</span><span class="token comment">//位于输入框右下方的小控件，不能和counterText同时使用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counterText<span class="token punctuation">,</span><span class="token comment">//位于右下方显示的文本，常用于显示输入的字符数量</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counterStyle<span class="token punctuation">,</span> <span class="token comment">//counterText的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>filled<span class="token punctuation">,</span>  <span class="token comment">//如果为true，则输入使用fillColor指定的颜色填充</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fillColor<span class="token punctuation">,</span>  <span class="token comment">//相当于输入框的背景颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorBorder<span class="token punctuation">,</span>   <span class="token comment">//errorText不为空，输入框没有焦点时要显示的边框</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusedBorder<span class="token punctuation">,</span>  <span class="token comment">//输入框有焦点时的边框,如果errorText不为空的话，该属性无效</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusedErrorBorder<span class="token punctuation">,</span>  <span class="token comment">//errorText不为空时，输入框有焦点时的边框</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>disabledBorder<span class="token punctuation">,</span>  <span class="token comment">//输入框禁用时显示的边框，如果errorText不为空的话，该属性无效</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabledBorder<span class="token punctuation">,</span>  <span class="token comment">//输入框可用时显示的边框，如果errorText不为空的话，该属性无效</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>border<span class="token punctuation">,</span> <span class="token comment">//正常情况下的border</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//输入框是否可用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>semanticCounterText<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignLabelWithHint<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div><h3 id="checkbox" tabindex="-1"><a class="header-anchor" href="#checkbox" aria-hidden="true">#</a> checkbox</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>RadioListTile(\n              value: 1,\n              onChanged: (v) {\n                setState(() {\n                  this.sex = v;\n                });\n              },\n              groupValue: this.sex,\n            ),\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  RadioListTile(\n            groupValue: this.sex,\n            onChanged: (value) {\n              print(value);\n              setState(() {\n                this.sex = value;\n              });\n            },\n            value: 1,\n            title: Text(&#39;sss&#39;),\n          ),\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="textfield" tabindex="-1"><a class="header-anchor" href="#textfield" aria-hidden="true">#</a> TextField</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://www.cnblogs.com/joe235/p/11711653.html\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">const</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">,</span><span class="token comment">//控制器</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusNode<span class="token punctuation">,</span><span class="token comment">//焦点</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>decoration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//装饰</span>\n    <span class="token class-name">TextInputType</span> keyboardType<span class="token punctuation">,</span><span class="token comment">//键盘类型，即输入类型</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textInputAction<span class="token punctuation">,</span><span class="token comment">//键盘按钮</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textCapitalization <span class="token operator">=</span> <span class="token class-name">TextCapitalization</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span><span class="token comment">//大小写</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">,</span><span class="token comment">//样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>strutStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span><span class="token comment">//对齐方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textDirection<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autofocus <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//自动聚焦</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否隐藏文本，即显示密码类型</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autocorrect <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//自动更正</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//最多行数，高度与行数同步</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>minLines<span class="token punctuation">,</span><span class="token comment">//最小行数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>expands <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLength<span class="token punctuation">,</span><span class="token comment">//最多输入数，有值后右下角就会有一个计数器</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLengthEnforced <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><span class="token comment">//输入改变回调</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onEditingComplete<span class="token punctuation">,</span><span class="token comment">//输入完成时，配合TextInputAction.done使用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onSubmitted<span class="token punctuation">,</span><span class="token comment">//提交时,配合TextInputAction</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>inputFormatters<span class="token punctuation">,</span><span class="token comment">//输入校验</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabled<span class="token punctuation">,</span><span class="token comment">//是否可用</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorWidth <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span><span class="token comment">//光标宽度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorRadius<span class="token punctuation">,</span><span class="token comment">//光标圆角</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorColor<span class="token punctuation">,</span><span class="token comment">//光标颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>keyboardAppearance<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollPadding <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>dragStartBehavior <span class="token operator">=</span> <span class="token class-name">DragStartBehavior</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enableInteractiveSelection<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span><span class="token comment">//点击事件</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>buildCounter<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollPhysics<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>icon<span class="token punctuation">,</span><span class="token comment">//左侧外的图标</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelText<span class="token punctuation">,</span><span class="token comment">//悬浮提示，可代替hintText</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>labelStyle<span class="token punctuation">,</span><span class="token comment">//悬浮提示文字的样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>helperText<span class="token punctuation">,</span><span class="token comment">//帮助文字</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>helperStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintText<span class="token punctuation">,</span><span class="token comment">//输入提示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hintMaxLines<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorText<span class="token punctuation">,</span><span class="token comment">//错误提示</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorMaxLines<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>hasFloatingPlaceholder <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否显示悬浮提示文字</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isDense<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>contentPadding<span class="token punctuation">,</span><span class="token comment">//内填充</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixIcon<span class="token punctuation">,</span><span class="token comment">//左侧内的图标</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefix<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixText<span class="token punctuation">,</span><span class="token comment">//左侧内的文字</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>prefixStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixIcon<span class="token punctuation">,</span><span class="token comment">//右侧内图标</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffix<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixText<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>suffixStyle<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">,</span><span class="token comment">//自定义计数器</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counterText<span class="token punctuation">,</span><span class="token comment">//计数文字</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>counterStyle<span class="token punctuation">,</span><span class="token comment">//计数样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>filled<span class="token punctuation">,</span><span class="token comment">//是否填充</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fillColor<span class="token punctuation">,</span><span class="token comment">//填充颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>errorBorder<span class="token punctuation">,</span> <span class="token comment">//失去焦点底部线样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusedBorder<span class="token punctuation">,</span> <span class="token comment">//失去焦点 样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusedErrorBorder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>disabledBorder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabledBorder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>border<span class="token punctuation">,</span><span class="token comment">//边框</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>semanticCounterText<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>alignLabelWithHint<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>enabledBorder<span class="token punctuation">:</span> <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>\nborderSide<span class="token punctuation">:</span><span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFFE9E9E9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>keyboardType</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">TextField</span><span class="token punctuation">(</span>\n    keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>number<span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token class-name">TextInputType</span><span class="token punctuation">:</span>\n    text\n    multiline\n    number\n    phone\n    datetime\n    emailAddress\n    url\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>textInputAction</p><p>​ 键盘右下角的按钮</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>TextField(\n    textInputAction: TextInputAction.done,\n),\nTextInputAction:\n        none\n        unspecified\n        done\n        go\n        search\n        send\n        next\n        previous\n        continueAction\n        join\n        route\n        emergencyCall\n        newline\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="大小写" tabindex="-1"><a class="header-anchor" href="#大小写" aria-hidden="true">#</a> 大小写</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>TextField(\n    textCapitalization: TextCapitalization.none,\n),\nTextCapitalization:\n    words：单词首字母大写\n    sentences：句子的首字母大写\n    characters：所有字母大写\n    none：默认无\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="光标" tabindex="-1"><a class="header-anchor" href="#光标" aria-hidden="true">#</a> 光标</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>TextField(\n     cursorColor: Colors.orange,\n     cursorWidth: 15,\n     cursorRadius: Radius.circular(15),\n),\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>复制粘贴设置成中文</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-pubspec.yaml\ndependencies:\n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n  localizationsDelegates<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token class-name">GlobalMaterialLocalizations</span><span class="token punctuation">.</span>delegate<span class="token punctuation">,</span>\n    <span class="token class-name">GlobalWidgetsLocalizations</span><span class="token punctuation">.</span>delegate<span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  supportedLocales<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token keyword">const</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&#39;zh&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;CN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">const</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&#39;en&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;US&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">,</span>                    <span class="token comment">// 控制正在编辑文本</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>focusNode<span class="token punctuation">,</span>                     <span class="token comment">// 获取键盘焦点</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>decoration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token comment">// 边框装饰</span>\n    <span class="token class-name">TextInputType</span> keyboardType<span class="token punctuation">,</span>         <span class="token comment">// 键盘类型</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textInputAction<span class="token punctuation">,</span>               <span class="token comment">// 键盘的操作按钮类型</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textCapitalization <span class="token operator">=</span> <span class="token class-name">TextCapitalization</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>      <span class="token comment">// 配置大小写键盘</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">,</span>                         <span class="token comment">// 输入文本样式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>   <span class="token comment">// 对齐方式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>textDirection<span class="token punctuation">,</span>                 <span class="token comment">// 文本方向</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autofocus <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>             <span class="token comment">// 是否自动对焦</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>           <span class="token comment">// 是否隐藏内容，例如密码格式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>autocorrect <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token comment">// 是否自动校正</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment">// 最大行数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLength<span class="token punctuation">,</span>                     <span class="token comment">// 允许输入的最大长度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>maxLengthEnforced <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// 是否允许超过输入最大长度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span>                     <span class="token comment">// 文本内容变更时回调</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onEditingComplete<span class="token punctuation">,</span>             <span class="token comment">// 提交内容时回调</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onSubmitted<span class="token punctuation">,</span>                   <span class="token comment">// 用户提示完成时回调</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>inputFormatters<span class="token punctuation">,</span>               <span class="token comment">// 验证及格式</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enabled<span class="token punctuation">,</span>                       <span class="token comment">// 是否不可点击</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorWidth <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span>             <span class="token comment">// 光标宽度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorRadius<span class="token punctuation">,</span>                  <span class="token comment">// 光标圆角弧度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>cursorColor<span class="token punctuation">,</span>                   <span class="token comment">// 光标颜色</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>keyboardAppearance<span class="token punctuation">,</span>            <span class="token comment">// 键盘亮度</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollPadding <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment">// 滚动到视图中时，填充边距</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>enableInteractiveSelection<span class="token punctuation">,</span>    <span class="token comment">// 长按是否展示【剪切/复制/粘贴菜单LengthLimitingTextInputFormatter】</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>  \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/cupertino.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">///整理</span>\n<span class="token comment">//TextField 输入文本 decoration 配置边框样式以及提示文本分析篇</span>\n<span class="token keyword">class</span> <span class="token class-name">TextFeildHomePage5</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StatefulWidget</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">TextFeildHomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">TextFeildHomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">///用来控制  TextField 焦点的获取与关闭</span>\n  <span class="token class-name">FocusNode</span> focusNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">///文本输入框是否可编辑</span>\n  bool isEnable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">///添加获取焦点与失去焦点的兼听</span>\n    focusNode<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      <span class="token comment">///当前兼听的 TextFeild 是否获取了输入焦点</span>\n      bool hasFocus <span class="token operator">=</span> focusNode<span class="token punctuation">.</span>hasFocus<span class="token punctuation">;</span>\n      <span class="token comment">///当前 focusNode 是否添加了兼听</span>\n      bool hasListeners <span class="token operator">=</span> focusNode<span class="token punctuation">.</span>hasListeners<span class="token punctuation">;</span>\n\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;focusNode 兼听 hasFocus:$hasFocus  hasListeners:$hasListeners&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">/// WidgetsBinding 它能监听到第一帧绘制完成，第一帧绘制完成标志着已经Build完成</span>\n    <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPostFrameCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">///获取输入框焦点</span>\n      <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span>focusNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        actions<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">FlatButton</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;获取焦点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span>focusNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">FlatButton</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;失去焦点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            focusNode<span class="token punctuation">.</span><span class="token function">unfocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">FlatButton</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;编辑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              isEnable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">FlatButton</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;不可编辑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              isEnable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n        <span class="token comment">///SizedBox 用来限制一个固定 width height 的空间</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>\n          width<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token number">130</span><span class="token punctuation">,</span>\n          child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white24<span class="token punctuation">,</span>\n            <span class="token comment">///距离顶部</span>\n            margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token comment">///Alignment 用来对齐 Widget</span>\n            alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token comment">///文本输入框</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n\n              <span class="token comment">///是否可编辑</span>\n              enabled<span class="token punctuation">:</span> isEnable<span class="token punctuation">,</span>\n              <span class="token comment">///焦点获取</span>\n              focusNode<span class="token punctuation">:</span> focusNode<span class="token punctuation">,</span>\n              <span class="token comment">///用来配置 TextField 的样式风格</span>\n              decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n                <span class="token comment">///设置输入文本框的提示文字</span>\n                <span class="token comment">///输入框获取焦点时 并且没有输入文字时</span>\n                hintText<span class="token punctuation">:</span> <span class="token string">&quot;请输入用户名&quot;</span><span class="token punctuation">,</span>\n                <span class="token comment">///设置输入文本框的提示文字的样式</span>\n                hintStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>textBaseline<span class="token punctuation">:</span> <span class="token class-name">TextBaseline</span><span class="token punctuation">.</span>ideographic<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///输入框内的提示 输入框没有获取焦点时显示</span>\n                labelText<span class="token punctuation">:</span> <span class="token string">&quot;用户名&quot;</span><span class="token punctuation">,</span>\n                labelStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///显示在输入框下面的文字</span>\n                helperText<span class="token punctuation">:</span> <span class="token string">&quot;这里是帮助提示语&quot;</span><span class="token punctuation">,</span>\n                helperStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n                <span class="token comment">///显示在输入框下面的文字</span>\n                <span class="token comment">///会覆盖了 helperText 内容</span>\n                errorText<span class="token punctuation">:</span> <span class="token string">&quot;这里是错误文本提示&quot;</span><span class="token punctuation">,</span>\n                errorStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n                <span class="token comment">///输入框获取焦点时才会显示出来 输入文本的前面</span>\n                prefixText<span class="token punctuation">:</span> <span class="token string">&quot;prefix&quot;</span><span class="token punctuation">,</span>\n                prefixStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>deepPurple<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///输入框获取焦点时才会显示出来 输入文本的后面</span>\n                suffixText<span class="token punctuation">:</span> <span class="token string">&quot;suf &quot;</span><span class="token punctuation">,</span>\n                suffixStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n                <span class="token comment">///文本输入框右下角显示的文本</span>\n                <span class="token comment">///文字计数器默认使用</span>\n                counterText<span class="token punctuation">:</span> <span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span>\n                counterStyle<span class="token punctuation">:</span><span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>deepPurple<span class="token punctuation">[</span><span class="token number">800</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n                <span class="token comment">///输入文字前的小图标</span>\n                prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///输入文字后面的小图标</span>\n                suffixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>close<span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n                <span class="token comment">///与 prefixText 不能同时设置</span>\n<span class="token comment">//                prefix: Text(&quot;A&quot;) ,</span>\n                <span class="token comment">/// 与 suffixText 不能同时设置</span>\n<span class="token comment">//                suffix:  Text(&quot;B&quot;) ,</span>\n                <span class="token comment">///设置边框</span>\n                <span class="token comment">///   InputBorder.none 无下划线</span>\n                <span class="token comment">///   OutlineInputBorder 上下左右 都有边框</span>\n                <span class="token comment">///   UnderlineInputBorder 只有下边框  默认使用的就是下边框</span>\n                border<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>\n                  <span class="token comment">///设置边框四个角的弧度</span>\n                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token comment">///用来配置边框的样式</span>\n                  borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>\n                    <span class="token comment">///设置边框的颜色</span>\n                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n                    <span class="token comment">///设置边框的粗细</span>\n                    width<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///设置输入框可编辑时的边框样式</span>\n                enabledBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>\n                  <span class="token comment">///设置边框四个角的弧度</span>\n                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token comment">///用来配置边框的样式</span>\n                  borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>\n                    <span class="token comment">///设置边框的颜色</span>\n                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n                    <span class="token comment">///设置边框的粗细</span>\n                    width<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                disabledBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>\n                  <span class="token comment">///设置边框四个角的弧度</span>\n                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token comment">///用来配置边框的样式</span>\n                  borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>\n                    <span class="token comment">///设置边框的颜色</span>\n                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n                    <span class="token comment">///设置边框的粗细</span>\n                    width<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token comment">///用来配置输入框获取焦点时的颜色</span>\n                focusedBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>\n                  <span class="token comment">///设置边框四个角的弧度</span>\n                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token comment">///用来配置边框的样式</span>\n                  borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>\n                    <span class="token comment">///设置边框的颜色</span>\n                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">,</span>\n                    <span class="token comment">///设置边框的粗细</span>\n                    width<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br></div></div><h3 id="失去焦点" tabindex="-1"><a class="header-anchor" href="#失去焦点" aria-hidden="true">#</a> 失去焦点</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>\n       behavior<span class="token punctuation">:</span> <span class="token class-name">HitTestBehavior</span><span class="token punctuation">.</span>translucent<span class="token punctuation">,</span>\n       onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n ）\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="verificationbox" tabindex="-1"><a class="header-anchor" href="#verificationbox" aria-hidden="true">#</a> VerificationBox</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>验证码输入框\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="限制输入" tabindex="-1"><a class="header-anchor" href="#限制输入" aria-hidden="true">#</a> 限制输入</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">PrecisionLimitFormatter</span> <span class="token keyword">extends</span> <span class="token class-name">TextInputFormatter</span> <span class="token punctuation">{</span>\n  int _scale<span class="token punctuation">;</span>\n\n  <span class="token class-name">PrecisionLimitFormatter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_scale<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token class-name">RegExp</span> exp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;[0-9.]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> POINTER <span class="token operator">=</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">;</span>\n  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> DOUBLE_ZERO <span class="token operator">=</span> <span class="token string">&quot;00&quot;</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">TextEditingValue</span> <span class="token function">formatEditUpdate</span><span class="token punctuation">(</span><span class="token class-name">TextEditingValue</span> oldValue<span class="token punctuation">,</span> <span class="token class-name">TextEditingValue</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">//第一个不能输入小数点</span>\n      <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">///输入完全删除</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token class-name">TextEditingValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">///只允许输入小数</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>exp<span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">///包含小数点的情况</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">///包含多个小数</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span> <span class="token operator">!=</span> newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token class-name">String</span> input <span class="token operator">=</span> newValue<span class="token punctuation">.</span>text<span class="token punctuation">;</span>\n      int index <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n      <span class="token comment">///小数点后位数</span>\n      int lengthAfterPointer <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> input<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>\n\n      <span class="token comment">///小数位大于精度</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>lengthAfterPointer <span class="token operator">&gt;</span> _scale<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>POINTER<span class="token punctuation">)</span> <span class="token operator">||</span> newValue<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>DOUBLE_ZERO<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">///不包含小数点,不能以“00”开头</span>\n      <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> newValue<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="自定义封装校验" tabindex="-1"><a class="header-anchor" href="#自定义封装校验" aria-hidden="true">#</a> 自定义封装校验</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">FormWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> <span class="token class-name">Widget</span> child<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token class-name">FormWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">static</span> <span class="token class-name">FormWidgetState</span><span class="token operator">?</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">final</span> _FormScope<span class="token operator">?</span> scope <span class="token operator">=</span>\n        context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span>_FormScope<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> scope<span class="token operator">?</span><span class="token punctuation">.</span>_formState<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">FormWidgetState</span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">FormWidgetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">FormWidgetState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormWidget</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  int _generation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormItemState</span><span class="token punctuation">&gt;</span></span> _fields <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormItemState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">void</span> <span class="token function">_forceRebuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token operator">++</span>_generation<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">void</span> <span class="token function">_register</span><span class="token punctuation">(</span><span class="token class-name">FormItemState</span> field<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    _fields<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  bool <span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">_validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  bool <span class="token function">_validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    bool hasError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">FormItemState</span> item <span class="token keyword">in</span> _fields<span class="token punctuation">)</span>\n      hasError <span class="token operator">=</span> <span class="token operator">!</span>item<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> hasError<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token operator">!</span>hasError<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">_FormScope</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">,</span>\n      formState<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>\n      generation<span class="token punctuation">:</span> <span class="token operator">++</span>_generation<span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _FormScope <span class="token keyword">extends</span> <span class="token class-name">InheritedWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token function">_FormScope</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n    required <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n    required <span class="token class-name">FormWidgetState</span> formState<span class="token punctuation">,</span>\n    required int generation<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token punctuation">:</span> _formState <span class="token operator">=</span> formState<span class="token punctuation">,</span>\n        _generation <span class="token operator">=</span> generation<span class="token punctuation">,</span>\n        <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">final</span> <span class="token class-name">FormWidgetState</span> _formState<span class="token punctuation">;</span>\n\n  <span class="token keyword">final</span> int _generation<span class="token punctuation">;</span>\n\n  <span class="token class-name">FormWidget</span> <span class="token keyword">get</span> form <span class="token operator">=</span><span class="token operator">&gt;</span> _formState<span class="token punctuation">.</span>widget<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  bool <span class="token function">updateShouldNotify</span><span class="token punctuation">(</span>_FormScope old<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _generation <span class="token operator">!=</span> old<span class="token punctuation">.</span>_generation<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">FormItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> <span class="token class-name">FormFieldValidator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> validator<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">Widget</span><span class="token operator">?</span> child<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span> onTap<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">T</span><span class="token operator">?</span> initValue<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token class-name">FormItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n    required <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>initValue<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">FormItemState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">FormItemState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">FormItemState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormItem</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token class-name">String</span><span class="token operator">?</span> _errorText<span class="token punctuation">;</span>\n\n  <span class="token class-name">T</span><span class="token operator">?</span> _value<span class="token punctuation">;</span>\n\n  <span class="token class-name">String</span><span class="token operator">?</span> <span class="token keyword">get</span> errorText <span class="token operator">=</span><span class="token operator">&gt;</span> _errorText<span class="token punctuation">;</span>\n\n  bool <span class="token keyword">get</span> hasError <span class="token operator">=</span><span class="token operator">&gt;</span> _errorText <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n\n  bool <span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">_validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token operator">!</span>hasError<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">void</span> <span class="token function">_validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>validator <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> _errorText <span class="token operator">=</span> widget<span class="token punctuation">.</span>validator<span class="token operator">!</span><span class="token punctuation">(</span>_value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    _value <span class="token operator">=</span> widget<span class="token punctuation">.</span>initValue<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">FormWidget</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">_register</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>\n      onTap<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br></div></div><h1 id="数据刷新" tabindex="-1"><a class="header-anchor" href="#数据刷新" aria-hidden="true">#</a> 数据刷新</h1><h2 id="setstate" tabindex="-1"><a class="header-anchor" href="#setstate" aria-hidden="true">#</a> setState</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setState 刷新 build\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="valuelistenablebuilder" tabindex="-1"><a class="header-anchor" href="#valuelistenablebuilder" aria-hidden="true">#</a> ValueListenableBuilder</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>声明类似 vue3 ref（）；\n\n<span class="token keyword">class</span> _MyHomePageState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyHomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token comment">// 定义 ValueNotifier 对象 _counter</span>\n<span class="token keyword">final</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span> _counter <span class="token operator">=</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    _counter<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span> title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n          children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n            <span class="token class-name">Text</span><span class="token punctuation">(</span> <span class="token string">&#39;You have pushed the button this many times:&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token class-name">ValueListenableBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n              valueListenable<span class="token punctuation">:</span> _counter<span class="token punctuation">,</span> <span class="token comment">// 监听的值</span>\n              builder<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> int value<span class="token punctuation">,</span> <span class="token class-name">Widget</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n   \t\t\t\t<span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t\t  <span class="token punctuation">}</span>，\n              \n            <span class="token punctuation">)</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      floatingActionButton<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">(</span>\n        onPressed<span class="token punctuation">:</span> _incrementCounter<span class="token punctuation">,</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>源码</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">ValueListenableBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token class-name">ValueListenableBuilder</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span> key<span class="token punctuation">,</span>\n    <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>valueListenable<span class="token punctuation">,</span>\n    <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>builder<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">assert</span><span class="token punctuation">(</span>valueListenable <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n       <span class="token keyword">assert</span><span class="token punctuation">(</span>builder <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n       <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">final</span> <span class="token class-name">ValueListenable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> valueListenable<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">ValueWidgetBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> builder<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">Widget</span> child<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StatefulWidget</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _ValueListenableBuilderState<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">typedef</span> <span class="token class-name">ValueWidgetBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token class-name">Widget</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">T</span> value<span class="token punctuation">,</span> <span class="token class-name">Widget</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> _ValueListenableBuilderState<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ValueListenableBuilder</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token class-name">T</span> value<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    value <span class="token operator">=</span> widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n    widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>_valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">didUpdateWidget</span><span class="token punctuation">(</span><span class="token class-name">ValueListenableBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldWidget<span class="token punctuation">.</span>valueListenable <span class="token operator">!=</span> widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      oldWidget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>_valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      value <span class="token operator">=</span> widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n      widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>_valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didUpdateWidget</span><span class="token punctuation">(</span>oldWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>_valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">void</span> <span class="token function">_valueChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> value <span class="token operator">=</span> widget<span class="token punctuation">.</span>valueListenable<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> widget<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> value<span class="token punctuation">,</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><h1 id="点击事件" tabindex="-1"><a class="header-anchor" href="#点击事件" aria-hidden="true">#</a> 点击事件</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">InkWell</span><span class="token punctuation">,</span><span class="token class-name">GestureDetector</span><span class="token punctuation">,</span><span class="token class-name">RaisedButton</span>。\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="gesturedetector" tabindex="-1"><a class="header-anchor" href="#gesturedetector" aria-hidden="true">#</a> GestureDetector</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">GestureDetector</span>\n\nbehavior<span class="token punctuation">:</span>\n\t<span class="token class-name">HitTestBehavior</span><span class="token punctuation">.</span>opaque  <span class="token comment">// 不透明 点击范围的空白部分可响应</span>\n    <span class="token class-name">HitTestBehavior</span><span class="token punctuation">.</span>deferToChild <span class="token comment">// 默认 child处理事件</span>\n\t<span class="token class-name">HitTestBehavior</span><span class="token punctuation">.</span>translucent <span class="token comment">// 自己和child都可以响应事件</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="redux" tabindex="-1"><a class="header-anchor" href="#redux" aria-hidden="true">#</a> redux</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> redux<span class="token punctuation">:</span> <span class="token operator">^</span><span class="token number">4.0</span><span class="token number">.0</span><span class="token operator">+</span><span class="token number">3</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>main.dart</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:redux/redux.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n\t<span class="token keyword">final</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Store</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n    appReducer<span class="token punctuation">,</span>\n  \t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t  <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>store/init.dart</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:redux/redux.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">AppState</span> <span class="token punctuation">{</span>\n  <span class="token class-name">String</span> token<span class="token punctuation">;</span>\n  <span class="token class-name">ThemeData</span> themeData<span class="token punctuation">;</span>\n  <span class="token class-name">AppState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>themeData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">AppState</span> <span class="token function">appReducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token class-name">AppState</span><span class="token punctuation">(</span>\n    token<span class="token punctuation">:</span> <span class="token class-name">UpdateToken</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>token<span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    themeData<span class="token punctuation">:</span> <span class="token class-name">UpdateTheme</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>themeData<span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">final</span> <span class="token class-name">UpdateToken</span> <span class="token operator">=</span>\n    combineReducers<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">TypedReducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">TokenAction</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_refToken<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">final</span> <span class="token class-name">UpdateTheme</span> <span class="token operator">=</span> combineReducers<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeData</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n    <span class="token punctuation">[</span><span class="token class-name">TypedReducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeData</span><span class="token punctuation">,</span> <span class="token class-name">ThenmeAction</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_refTheme<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 更新</span>\n<span class="token class-name">String</span> <span class="token function">_refToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  token <span class="token operator">=</span> action<span class="token punctuation">.</span>token<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> token<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">ThemeData</span> <span class="token function">_refTheme</span><span class="token punctuation">(</span><span class="token class-name">ThemeData</span> themeData<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  themeData <span class="token operator">=</span> action<span class="token punctuation">.</span>themeData<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> themeData<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// set new state</span>\n<span class="token keyword">class</span> <span class="token class-name">TokenAction</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> token<span class="token punctuation">;</span>\n  <span class="token class-name">TokenAction</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">ThenmeAction</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> themeData<span class="token punctuation">;</span>\n  <span class="token class-name">ThenmeAction</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>themeData<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>更新视图方法</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flutter_redux: ^0.7.0\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n\t<span class="token keyword">final</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Store</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>\n    \tappReducer<span class="token punctuation">,</span>\n       \t<span class="token comment">// 初始化</span>\n        initialState<span class="token punctuation">:</span><span class="token class-name">AppState</span><span class="token punctuation">(</span>\n        \tthemeData<span class="token punctuation">:</span><span class="token class-name">ThemeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  \t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t  <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n\t  \n\t<span class="token metadata symbol">@override</span>\n    <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token class-name">Storeprovider</span><span class="token punctuation">(</span>\n        store<span class="token punctuation">:</span>store<span class="token punctuation">,</span>\n        child<span class="token punctuation">:</span><span class="token class-name">StoreBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Appstate</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>store<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n            \ttheme<span class="token punctuation">:</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>themeDate<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h1 id="routes" tabindex="-1"><a class="header-anchor" href="#routes" aria-hidden="true">#</a> routes</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://www.it610.com/article/1228784957724397568.htm\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>MaterialPageRoute</p><p><code>MaterialPageRoute</code>继承自<code>PageRoute</code>类，<code>PageRoute</code>类是一个抽象类，表示占有整个屏幕空间的一个模态路由页面，它还定义了路由构建及切换时过渡动画的相关接口及属性。<code>MaterialPageRoute</code> 是Material组件库提供的组件，它可以针对不同平台，实现与平台页面切换动画风格一致的路由切换动画：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  MaterialPageRoute({\n    WidgetBuilder builder,\n    RouteSettings settings,\n    bool maintainState = true,\n    bool fullscreenDialog = false, //返回按键变X\n  });\n \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>builder</code> 是一个WidgetBuilder类型的回调函数，它的作用是构建路由页面的具体内容，返回值是一个widget。我们通常要实现此回调，返回新路由的实例。</li><li><code>settings</code> 包含路由的配置信息，如路由名称、是否初始路由（首页）。</li><li><code>maintainState</code>：默认情况下，当入栈一个新路由时，原来的路由仍然会被保存在内存中，如果想在路由没用的时候释放其所占用的所有资源，可以设置<code>maintainState</code>为false。</li><li><code>fullscreenDialog</code>表示新的路由页面是否是一个全屏的模态对话框，在iOS中，如果<code>fullscreenDialog</code>为<code>true</code>，新页面将会从屏幕底部滑入（而不是水平方向）。</li></ul><p>普通路由:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;../home/HomeTest.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">//进入</span>\nnavigattor<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>\n\tbuilder<span class="token punctuation">:</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span> <span class="token class-name">HomeTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token comment">//进入    </span>\n <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>\n          context<span class="token punctuation">,</span>\n          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token class-name">HomeTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">//返回</span>\n <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span><span class="token string">&#39;/home&#39;</span><span class="token punctuation">)</span> <span class="token comment">//命名路由</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="普通路由传值" tabindex="-1"><a class="header-anchor" href="#普通路由传值" aria-hidden="true">#</a> 普通路由传值:</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>\n          context<span class="token punctuation">,</span>\n          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>\n            builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token class-name">HomeTest</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span><span class="token string">&#39;wo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传值</span>\n\n<span class="token keyword">class</span> <span class="token class-name">HomeTest</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token class-name">HomeTest</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span> <span class="token comment">//接收</span>\n  <span class="token metadata symbol">@override</span>\n  _HomeTestState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_HomeTestState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _HomeTestState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomeTest</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span><span class="token class-name">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 赋值</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="命名路由" tabindex="-1"><a class="header-anchor" href="#命名路由" aria-hidden="true">#</a> 命名路由:</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>申明<span class="token punctuation">:</span>\nmain<span class="token punctuation">.</span>dart\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./routers/router.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./home/HomeTest.dart&#39;</span><span class="token punctuation">;</span>\n    <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n      routes<span class="token punctuation">:</span><span class="token punctuation">{</span>\n        <span class="token string">&#39;/home&#39;</span><span class="token punctuation">:</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token class-name">HomeTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//申明 全局引用</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      initialRoute<span class="token punctuation">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>\n      onGenerateRoute<span class="token punctuation">:</span> onGenerateRoute<span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n页面调用<span class="token punctuation">:</span>\n  <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="动态图命名路由传值" tabindex="-1"><a class="header-anchor" href="#动态图命名路由传值" aria-hidden="true">#</a> 动态图命名路由传值:</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>\n context<span class="token punctuation">,</span> \n <span class="token string">&#39;/HomeTest&#39;</span><span class="token punctuation">,</span>\n arguments<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;4444&#39;</span><span class="token punctuation">}</span>\n <span class="token punctuation">)</span><span class="token punctuation">;</span> 传参数<span class="token punctuation">;</span>\n \n <span class="token comment">// 接收</span>\n <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> args <span class="token operator">=</span>\n        <span class="token class-name">ModalRoute</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>settings<span class="token punctuation">.</span>arguments<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span> \n \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import &#39;package:flutter/material.dart&#39;;\nimport &#39;../Tabs/Tabs.dart&#39;; //配置路由\nimport &#39;../home/HomeTest.dart&#39;;\n动态路由配置:\nfinal routes = {\n  &#39;/&#39;: (context) =&gt; Tabs(),\n  &#39;/HomeTest&#39;: (context, {arguments}) =&gt; HomeTest(arguments: arguments),\n};\n\n\n// ignore: top_level_function_literal_block\nvar onGenerateRoute = (RouteSettings settings) {\n  // 统一处理\n  final String name = settings.name;\n  final Function pageContentBuilder = routes[name];\n\n  if (pageContentBuilder != null) {\n    if (settings.arguments != null) {\n      print(name);\n      final Route route = MaterialPageRoute(\n          builder: (context) =&gt;\n              pageContentBuilder(context, arguments: settings.arguments));\n      return route;\n    } else {\n      final Route route =\n          MaterialPageRoute(builder: (context) =&gt; pageContentBuilder(context));\n      return route;\n    }\n  }\n};\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">HomeTest</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> arguments<span class="token punctuation">;</span> <span class="token comment">// 接收</span>\n  <span class="token class-name">HomeTest</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arguments<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  _HomeTestState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_HomeTestState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _HomeTestState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomeTest</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>arguments<span class="token punctuation">[</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//使用</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">(</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>页面返回返回参数:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token string">&#39;返回&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传参</span>\n\n写法一<span class="token punctuation">:</span>\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>\n          context<span class="token punctuation">,</span>\n          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>\n            builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token class-name">HomeTest</span><span class="token punctuation">(</span>arguments<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;mytitle&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token comment">// fullscreenDialog: true,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>\n          <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;222222&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n写法二<span class="token punctuation">:</span>\n<span class="token class-name">Future</span> future <span class="token operator">=</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>\n          context<span class="token punctuation">,</span>\n          <span class="token string">&#39;/HomeTest&#39;</span><span class="token punctuation">,</span>\n          arguments<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;上个页面的title&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        future<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;value--------&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n写法三<span class="token punctuation">:</span>    \n <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>\n          <span class="token string">&#39;/HomeTest&#39;</span><span class="token punctuation">,</span>\n          arguments<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;上个页面的title&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;999&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n注<span class="token punctuation">:</span>点击顶部返回<span class="token punctuation">,</span>手机手势返回<span class="token punctuation">;</span>不能捕获参数<span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>钩子</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>onGenerateRoute(settings)\n\nonUnkonwnRoute  //不存在路由\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>例</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>routes:{\n\t&#39;/home&#39;:(context)=&gt;About()\n},\ninitialRoute:&#39;/&#39;, //默认路径\nonGenerateRoute:(settings){\n\tif(settings.name == &#39;/home&#39;){\n\t\treturn MaterialPageRoute(\n\t\t\tbuilder:(context)=&gt;HOme(settings.arguments)\n\t\t);\n\t}\n},\nonUnkonwnRoute(){\n\treturn MaterialPageRoute(\n\t\t\tbuilder:(context)=&gt;Eer(settings.arguments)\n\t\t);\n}\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;../Tabs/Tabs.dart&#39;</span><span class="token punctuation">;</span> <span class="token comment">//配置路由</span>\n\n<span class="token keyword">final</span> routes <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token string">&#39;/&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//固定写法</span>\n\n<span class="token keyword">var</span> onGenerateRoute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">RouteSettings</span> settings<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 统一处理</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> name <span class="token operator">=</span> settings<span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">Function</span> pageContentBuilder <span class="token operator">=</span> routes<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>pageContentBuilder <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>arguments <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">final</span> <span class="token class-name">Route</span> route <span class="token operator">=</span> <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>\n          builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>\n              <span class="token function">pageContentBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> settings<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> route<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token keyword">final</span> <span class="token class-name">Route</span> route <span class="token operator">=</span>\n          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">pageContentBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> route<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="pushnamedandremoveuntil" tabindex="-1"><a class="header-anchor" href="#pushnamedandremoveuntil" aria-hidden="true">#</a> pushNamedAndRemoveUntil</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">//前进</span>\n  <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">pushNamedAndRemoveUntil</span><span class="token punctuation">(</span>\n            “跳转路径”<span class="token punctuation">,</span>\n            <span class="token class-name">ModalRoute</span><span class="token punctuation">.</span><span class="token function">withName</span><span class="token punctuation">(</span><span class="token string">&#39;/demo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//清除旧栈需要保留的栈 不清除就不写这句</span>\n            arguments<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">:</span>“<span class="token number">233</span>”<span class="token punctuation">}</span><span class="token comment">//传值</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">pushNamedAndRemoveUntil</span><span class="token punctuation">(</span>\n    \t\t<span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// new page</span>\n          \t<span class="token class-name">ModalRoute</span><span class="token punctuation">.</span><span class="token function">withName</span><span class="token punctuation">(</span><span class="token string">&#39;/Welcome&#39;</span><span class="token punctuation">)</span> <span class="token comment">//当前页面 关闭页面</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span> \n \n\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamedAndRemoveUntil</span><span class="token punctuation">(</span>\n      context<span class="token punctuation">,</span>\n     <span class="token string">&quot;跳转路径&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>route<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//true保留跳转的当前栈   false 不保留</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="pushreplacementnamed" tabindex="-1"><a class="header-anchor" href="#pushreplacementnamed" aria-hidden="true">#</a> pushReplacementNamed</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>替换当前页面\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushReplacementNamed</span><span class="token punctuation">(</span><span class="token string">&#39;/screen4&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushReplacementNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&#39;/settings/brightness&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="fractionsizedbox" tabindex="-1"><a class="header-anchor" href="#fractionsizedbox" aria-hidden="true">#</a> fractionsizedbox</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>百分\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="mediaquery" tabindex="-1"><a class="header-anchor" href="#mediaquery" aria-hidden="true">#</a> MediaQuery</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">final</span> double height <span class="token operator">=</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="bottomnavigationbar" tabindex="-1"><a class="header-anchor" href="#bottomnavigationbar" aria-hidden="true">#</a> bottomNavigationBar</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./Category.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./Home.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./My.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./User.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Tabs</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token class-name">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>\n  <span class="token metadata symbol">@override</span>\n  _TabsState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_TabsState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _TabsState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  int _currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n  <span class="token class-name">List</span> _TabsPages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Category</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> _TabsPages<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>_currentIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>\n      bottomNavigationBar<span class="token punctuation">:</span> <span class="token class-name">BottomNavigationBar</span><span class="token punctuation">(</span>\n          currentIndex<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_currentIndex<span class="token punctuation">,</span>\n          onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">this</span><span class="token punctuation">.</span>_currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          type<span class="token punctuation">:</span> <span class="token class-name">BottomNavigationBarType</span><span class="token punctuation">.</span>fixed<span class="token punctuation">,</span> <span class="token comment">// 多个底部导航栏需要配置</span>\n          items<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n            <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;首页&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;分类&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>category<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;购物车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>shopping_cart<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;我的&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>people<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>main<span class="token punctuation">.</span>dart\n\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&quot;./Tabs/Tabs.dart&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token comment">// This widget is the root of your application.</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n      title<span class="token punctuation">:</span> <span class="token string">&#39;Flutter Demo&#39;</span><span class="token punctuation">,</span>\n      theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>\n        primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n        visualDensity<span class="token punctuation">:</span> <span class="token class-name">VisualDensity</span><span class="token punctuation">.</span>adaptivePlatformDensity<span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      home<span class="token punctuation">:</span> <span class="token class-name">Tabs</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">&#39;walle JD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h1 id="点击" tabindex="-1"><a class="header-anchor" href="#点击" aria-hidden="true">#</a> 点击</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GestureDetector,InkResponse,InkWell\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="国际化" tabindex="-1"><a class="header-anchor" href="#国际化" aria-hidden="true">#</a> 国际化</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>dependencies:\n  flutter:\n    sdk: flutter\n  flutter_localizations: // ++\n    sdk: flutter \t\t// ++\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>MaterialApp(\n        localizationsDelegates: [\n          GlobalMaterialLocalizations.delegate,\n          GlobalWidgetsLocalizations.delegate,\n          GlobalCupertinoLocalizations.delegate,\n        ],\n         supportedLocales: [\n          const Locale(&#39;zh&#39;, &#39;CN&#39;),\n        ],\n)\n\n# ScrollView\n\n## NestedScrollView\n\n​```dart\nclass _MerchantState extends State&lt;Merchant&gt;\n    with SingleTickerProviderStateMixin {\n    \n}\n\n\n  @override\n  void initState() {\n    super.initState();\n    _scrollViewController = ScrollController(initialScrollOffset: 0.0);\n    _scrollViewController.addListener(() {\n      if (_scrollViewController.position.maxScrollExtent ==\n          _scrollViewController.position.pixels) {\n        print(&quot;------------加载更多-------------&quot;);\n      }\n    });\n  }\n\n@override\n  Widget build(BuildContext context) {\n    return NestedScrollView(\n      controller: _scrollViewController,\n      headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled) {\n        return &lt;Widget&gt;[\n          SliverAppBar(\n            pinned: true,\n            floating: true,\n            expandedHeight: 280.w,\n            flexibleSpace: FlexibleSpaceBar(\n              collapseMode: CollapseMode.pin,\n              background: Container(\n                //头部整个背景颜色\n                height: double.infinity,\n                color: _bgColor,\n                child: _topHd(),\n              ),\n            ),\n            bottom: PreferredSize(\n              preferredSize: Size.fromHeight(44.w),\n              child: _Tabs(),\n            ),\n          )\n        ];\n      },\n      body: ListView.builder(\n        padding: EdgeInsets.all(10.w),\n        itemCount: _newsList.length,\n        itemBuilder: (context, index) {\n          return _bodyFutureBuilder(index);\n        },\n      ),\n    );\n  }\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h1 id="框架" tabindex="-1"><a class="header-anchor" href="#框架" aria-hidden="true">#</a> 框架</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Provider\nhttps://github.com/rrousselGit/provider/blob/master/resources/translations/zh-CN/README.md\n\nbloc\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="builder" tabindex="-1"><a class="header-anchor" href="#builder" aria-hidden="true">#</a> builder</h1><h2 id="futurebuilder" tabindex="-1"><a class="header-anchor" href="#futurebuilder" aria-hidden="true">#</a> FutureBuilder</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">FutureBuilder</span><span class="token punctuation">(</span>\n      future<span class="token punctuation">:</span> <span class="token function">_httpIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      initialData<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;加载中...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>\n          <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">AsyncSnapshot</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token class-name">ConnectionState</span> connectionState <span class="token operator">=</span> data<span class="token punctuation">.</span>connectionState<span class="token punctuation">;</span>\n          <span class="token keyword">if</span><span class="token punctuation">(</span>connectionState<span class="token punctuation">.</span>index <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;builder${data.data.name}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n          <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span><span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;err&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n          <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;加载中...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                 \n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n     \n  <span class="token comment">// 注意类型</span>\n  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">_httpIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">HttpMerchant</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n    <span class="token function">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">MerchantModel</span> data <span class="token operator">=</span> <span class="token class-name">MerchantModel</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>returnCode <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>returnData<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> data<span class="token punctuation">.</span>returnData<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ul><li><p>AsyncSnapshot</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">AsyncSnapshot</span><span class="token punctuation">.</span>connectionState\n\t<span class="token operator">-</span> none  <span class="token comment">// 0 future 请求之前 为true 则  显示initialData</span>\n\t<span class="token operator">-</span> waiting  <span class="token comment">// 1</span>\n    <span class="token operator">-</span> active <span class="token comment">// 2</span>\n\t<span class="token operator">-</span> done <span class="token comment">// 3 HTTP请求获取到 不为null 则返回future; </span>\n\t\t   <span class="token comment">// 为null 则AsyncSnapshot.hasError = true</span>\n connectionState<span class="token punctuation">.</span>index <span class="token comment">//0 1 2 3</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>地方</p></li></ul><h2 id="listview-builder" tabindex="-1"><a class="header-anchor" href="#listview-builder" aria-hidden="true">#</a> ListView.builder</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>\n     <span class="token comment">//设置physics属性总是可滚动</span>\n     physics<span class="token punctuation">:</span> <span class="token class-name">AlwaysScrollableScrollPhysics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    itemCount<span class="token punctuation">:</span> _newsList<span class="token punctuation">.</span>length<span class="token punctuation">,</span>\n    itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n       <span class="token keyword">return</span> <span class="token function">_bodyFutureBuilder</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="水波纹" tabindex="-1"><a class="header-anchor" href="#水波纹" aria-hidden="true">#</a> 水波纹</h1><ol><li><strong>定义 NoSplashFactory</strong></li></ol><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">NoSplashFactory</span> <span class="token keyword">extends</span> <span class="token class-name">InteractiveInkFeatureFactory</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token class-name">NoSplashFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">InteractiveInkFeature</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    required <span class="token class-name">MaterialInkController</span> controller<span class="token punctuation">,</span>\n    required <span class="token class-name">RenderBox</span> referenceBox<span class="token punctuation">,</span>\n    required <span class="token class-name">Offset</span> position<span class="token punctuation">,</span>\n    required <span class="token class-name">Color</span> color<span class="token punctuation">,</span>\n    required <span class="token class-name">TextDirection</span> textDirection<span class="token punctuation">,</span>\n    bool containedInkWell <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token class-name">RectCallback</span><span class="token operator">?</span> rectCallback<span class="token punctuation">,</span>\n    <span class="token class-name">BorderRadius</span><span class="token operator">?</span> borderRadius<span class="token punctuation">,</span>\n    <span class="token class-name">ShapeBorder</span><span class="token operator">?</span> customBorder<span class="token punctuation">,</span>\n    double<span class="token operator">?</span> radius<span class="token punctuation">,</span>\n    <span class="token class-name">VoidCallback</span><span class="token operator">?</span> onRemoved<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">NoSplash</span><span class="token punctuation">(</span>\n      controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span>\n      referenceBox<span class="token punctuation">:</span> referenceBox<span class="token punctuation">,</span>\n      color<span class="token punctuation">:</span> color<span class="token punctuation">,</span>\n      onRemoved<span class="token punctuation">:</span> onRemoved<span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/// 不显示水波纹效果</span>\n<span class="token keyword">class</span> <span class="token class-name">NoSplash</span> <span class="token keyword">extends</span> <span class="token class-name">InteractiveInkFeature</span> <span class="token punctuation">{</span>\n  <span class="token class-name">NoSplash</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    required <span class="token class-name">MaterialInkController</span> controller<span class="token punctuation">,</span>\n    required <span class="token class-name">RenderBox</span> referenceBox<span class="token punctuation">,</span>\n    required <span class="token class-name">Color</span> color<span class="token punctuation">,</span>\n    <span class="token class-name">VoidCallback</span><span class="token operator">?</span> onRemoved<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>\n          controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span>\n          referenceBox<span class="token punctuation">:</span> referenceBox<span class="token punctuation">,</span>\n          color<span class="token punctuation">:</span> color<span class="token punctuation">,</span>\n          onRemoved<span class="token punctuation">:</span> onRemoved<span class="token punctuation">,</span>\n        <span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    controller<span class="token punctuation">.</span><span class="token function">addInkFeature</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">paintFeature</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span> <span class="token class-name">Matrix4</span> transform<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>2.在构建 ThemeData`时使用</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyAppState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n    theme<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>\n      highlightColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span>\n      splashFactory<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">NoSplashFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment">///..........///</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n如果需要局部启用，可以应用<span class="token class-name">InkSplash</span><span class="token punctuation">.</span>splashFactory到splashFactory上。\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="去除滚动水波纹" tabindex="-1"><a class="header-anchor" href="#去除滚动水波纹" aria-hidden="true">#</a> 去除滚动水波纹</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">NoGlowScrollBehavior</span> <span class="token keyword">extends</span> <span class="token class-name">ScrollBehavior</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token class-name">NoGlowScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">buildViewportChrome</span><span class="token punctuation">(</span>\n    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>\n    <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n    <span class="token class-name">AxisDirection</span> axisDirection<span class="token punctuation">,</span>\n  <span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>\n      child<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>\n  builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> <span class="token class-name">Widget</span><span class="token operator">?</span> w<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">ScrollConfiguration</span><span class="token punctuation">(</span>\n    behavior<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">NoGlowScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    child<span class="token punctuation">:</span> w<span class="token operator">!</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h1 id="dio" tabindex="-1"><a class="header-anchor" href="#dio" aria-hidden="true">#</a> Dio</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token punctuation">{</span>\n  <span class="token comment">/// 响应数据，可能已经被转换了类型, 详情请参考Options中的[ResponseType].</span>\n  <span class="token class-name">T</span> data<span class="token punctuation">;</span>\n  <span class="token comment">/// 响应头</span>\n  <span class="token class-name">Headers</span> headers<span class="token punctuation">;</span>\n  <span class="token comment">/// 本次请求信息</span>\n  <span class="token class-name">Options</span> request<span class="token punctuation">;</span>\n  <span class="token comment">/// Http status code.</span>\n  int statusCode<span class="token punctuation">;</span>\n  <span class="token comment">/// 是否重定向(Flutter Web不可用)</span>\n  bool isRedirect<span class="token punctuation">;</span>\n  <span class="token comment">/// 重定向信息(Flutter Web不可用)</span>\n  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RedirectInfo</span><span class="token punctuation">&gt;</span></span> redirects <span class="token punctuation">;</span>\n  <span class="token comment">/// 真正请求的url(重定向最终的uri)</span>\n  <span class="token class-name">Uri</span> realUri<span class="token punctuation">;</span>\n  <span class="token comment">/// 响应对象的自定义字段（可以在拦截器中设置它），调用方可以在`then`中获取.</span>\n  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> extra<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>通过FormData上传多个文件:\n\nFormData formData = new FormData.from({\n   &quot;name&quot;: &quot;wendux&quot;,\n   &quot;age&quot;: 25,\n   &quot;file1&quot;: new UploadFileInfo(new File(&quot;./upload.txt&quot;), &quot;upload1.txt&quot;)\n   &quot;file2&quot;: new UploadFileInfo(new File(&quot;./upload.txt&quot;), &quot;upload2.txt&quot;)\n});\nresponse = await dio.post(&quot;/info&quot;, data: formData)\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="网络配置" tabindex="-1"><a class="header-anchor" href="#网络配置" aria-hidden="true">#</a> 网络配置</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. android\\app\\src\\main\\res 目录下 新建 xml文件夹；\n2.xml》新建network_security_config.xml文件\n3.android\\app\\src\\main\\AndroidManifest.xml\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>network_security_config.xml\n\n<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trust-anchors</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>certificates</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>system<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trust-anchors</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-config</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">&gt;</span></span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.zjmerchant<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n    \n&lt;application\n        android:label=&quot;zjmerchant&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n       // + android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        &gt;\n    ...\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ios info.plist 加入如下</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n  &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="上传图片" tabindex="-1"><a class="header-anchor" href="#上传图片" aria-hidden="true">#</a> 上传图片</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">avatarUpload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token class-name">FormData</span> formData <span class="token operator">=</span> <span class="token class-name">FormData</span><span class="token punctuation">.</span><span class="token function">fromMap</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token string">&quot;file&quot;</span><span class="token punctuation">:</span> <span class="token keyword">await</span> <span class="token class-name">MultipartFile</span><span class="token punctuation">.</span><span class="token function">fromFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>path<span class="token punctuation">,</span> filename<span class="token punctuation">:</span> <span class="token string">&quot;xxx23.png&quot;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> requestApi<span class="token punctuation">.</span><span class="token function">filesupload1</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;code&#39;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        headimg <span class="token operator">=</span> <span class="token string">&#39;file&#39;</span> <span class="token operator">+</span> result<span class="token punctuation">[</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token class-name">Fluttertoast</span><span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span>\n        msg<span class="token punctuation">:</span> <span class="token string">&#39;上传成功&#39;</span><span class="token punctuation">,</span>\n        toastLength<span class="token punctuation">:</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">,</span>\n        gravity<span class="token punctuation">:</span> <span class="token class-name">ToastGravity</span><span class="token punctuation">.</span>CENTER<span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="屏幕适配" tabindex="-1"><a class="header-anchor" href="#屏幕适配" aria-hidden="true">#</a> 屏幕适配</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://github.com/OpenFlutter/flutter_screenutil/blob/master/README_CN.md\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="序列化工具" tabindex="-1"><a class="header-anchor" href="#序列化工具" aria-hidden="true">#</a> 序列化工具</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://app.quicktype.io/\nhttps://flutter.dev/docs/development/data-and-backend/json\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="平台判断" tabindex="-1"><a class="header-anchor" href="#平台判断" aria-hidden="true">#</a> 平台判断</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/foundation.dart&#39;</span><span class="token punctuation">;</span>\n\ndefaultTargetPlatform <span class="token operator">==</span> <span class="token class-name">TargetPlatform</span><span class="token punctuation">.</span>iOS  <span class="token comment">//ios</span>\ndefaultTargetPlatform <span class="token operator">==</span> <span class="token class-name">TargetPlatform</span><span class="token punctuation">.</span>android\n  <span class="token comment">//ios</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="获取元素位置" tabindex="-1"><a class="header-anchor" href="#获取元素位置" aria-hidden="true">#</a> 获取元素位置</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>   <span class="token keyword">var</span> object <span class="token operator">=</span> globalKey<span class="token operator">?</span><span class="token punctuation">.</span>currentContext<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">findRenderObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> translation <span class="token operator">=</span> object<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getTransformTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getTranslation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n     translation<span class="token punctuation">.</span>y \n     \n     \n  <span class="token class-name">RenderObject</span> renderObject <span class="token operator">=</span> element<span class="token punctuation">.</span>currentContext<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">findRenderObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">as</span> <span class="token class-name">RenderObject</span><span class="token punctuation">;</span>\n          tabItemWidgetList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>renderObject<span class="token punctuation">.</span>paintBounds<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="flutter默认字体" tabindex="-1"><a class="header-anchor" href="#flutter默认字体" aria-hidden="true">#</a> flutter默认字体</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>material<span class="token punctuation">.</span>io<span class="token operator">/</span>design<span class="token operator">/</span>typography<span class="token operator">/</span>the<span class="token operator">-</span>type<span class="token operator">-</span>system<span class="token punctuation">.</span>html#type<span class="token operator">-</span>scale\n\n默认在 iOS 上：\n中文字体：<span class="token class-name">PingFang</span> SC\n英文字体：<span class="token punctuation">.</span>SF UI <span class="token class-name">Text</span> 、<span class="token punctuation">.</span>SF UI <span class="token class-name">Display</span>\n\n\n默认在 <span class="token class-name">Android</span> 上：\n中文字体：<span class="token class-name">Source</span> <span class="token class-name">Han</span> <span class="token class-name">Sans</span> <span class="token operator">/</span> <span class="token class-name">Noto</span>\n英文字体：<span class="token class-name">Roboto</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="获取定位" tabindex="-1"><a class="header-anchor" href="#获取定位" aria-hidden="true">#</a> 获取定位</h1><ol><li><p>申请高德key；</p></li><li><p>创建应用；</p></li><li><p>获取sha1，获取包名；</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>keytool -list -v -keystore F:/androiddebugkey.jks\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n   \n\n5. 声明权限；\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参考：https://blog.csdn.net/qq_42772570/article/details/101671009<br> https://blog.csdn.net/Gemini_Kanon/article/details/104628500?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-4-104628500.nonecase&amp;utm_term=flutter%20%E8%8E%B7%E5%8F%96%E4%BD%8D%E7%BD%AE%E4%BF%A1%E6%81%AF&amp;spm=1000.2123.3001.4430<br> https://lbs.amap.com/faq/android/map-sdk/create-project/43112</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n参考：https://blog.csdn.net/qq_44749053/article/details/101102785\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>依赖：<br> amap_location: ^0.2.0<br> permission_handler: ^3.2.0 // 权限判断</p><p>引入：<br> import &#39;package:amap_location/amap_location.dart&#39;;<br> import &#39;package:permission_handler/permission_handler.dart&#39;; //权限</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n​```dart\n检查权限：\n //检测权限状态\n  void checkPersmission() async {\n    // 申请权限\n    Map&lt;PermissionGroup, PermissionStatus&gt; permissions =\n        await PermissionHandler()\n            .requestPermissions([PermissionGroup.location]);\n    // 申请结果\n    PermissionStatus permission = await PermissionHandler()\n        .checkPermissionStatus(PermissionGroup.location);\n    if (permission == PermissionStatus.granted) {\n      _getLocation();\n    } else {\n      print(&#39;定位权限申请被拒绝&#39;);\n      bool isOpened = await PermissionHandler().openAppSettings(); //打开应用设置\n    }\n  }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>监听：\n<span class="token keyword">void</span> <span class="token function">_getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token comment">//先启动一下</span>\n    <span class="token keyword">await</span> <span class="token class-name">AMapLocationClient</span><span class="token punctuation">.</span><span class="token function">startup</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMapLocationOption</span><span class="token punctuation">(</span>\n        desiredAccuracy<span class="token punctuation">:</span> <span class="token class-name">CLLocationAccuracy</span><span class="token punctuation">.</span>kCLLocationAccuracyHundredMeters<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">//直接获取定位</span>\n    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">AMapLocationClient</span><span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;result--$result&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;&quot;\n    经度：${result.longitude}\n    纬度：${result.latitude}\n    &quot;&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> lat <span class="token operator">=</span> result<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span>\n    <span class="token keyword">var</span> lng <span class="token operator">=</span> result<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>lat<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isNotEmpty <span class="token operator">&amp;&amp;</span> lng<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;获取位置失败，请检测GPS是否开启！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// 关闭</span>\n    <span class="token comment">// AMapLocationClient.stopLocation();</span>\n    <span class="token comment">//停止定位</span>\n\n    <span class="token comment">//监听定位</span>\n    <span class="token comment">// AMapLocationClient.onLocationUpate.listen((AMapLocation loc) {</span>\n    <span class="token comment">//   if (!mounted) return;</span>\n    <span class="token comment">//   setState(() {</span>\n    <span class="token comment">//     print(&quot;&quot;&quot;</span>\n    <span class="token comment">// 经度：${result.longitude}</span>\n    <span class="token comment">// 纬度：${result.latitude}</span>\n    <span class="token comment">// &quot;&quot;&quot;);</span>\n    <span class="token comment">//   });</span>\n    <span class="token comment">// });</span>\n    <span class="token comment">// 开始监听</span>\n    <span class="token comment">// AMapLocationClient.startLocation();</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>android下的 build.gradle</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>defaultConfig <span class="token punctuation">{</span>\n        <span class="token comment">// TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).</span>\n        applicationId <span class="token string">&quot;com.example.myjd&quot;</span>\n        minSdkVersion <span class="token number">16</span>\n        targetSdkVersion <span class="token number">28</span>\n        versionCode flutterVersionCode<span class="token punctuation">.</span><span class="token function">toInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        versionName flutterVersionName\n        <span class="token operator">+</span>manifestPlaceholders <span class="token operator">=</span> <span class="token punctuation">[</span>\n                AMAP_KEY <span class="token punctuation">:</span> <span class="token string">&quot;d7aba329530bff4dce38b06aed63db8d&quot;</span><span class="token punctuation">,</span> <span class="token comment">/// 高德地图key</span>\n        <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n\n\ndependencies <span class="token punctuation">{</span>\n    implementation <span class="token string">&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span>\n    <span class="token operator">+</span>implementation <span class="token string">&#39;com.amap.api:location:latest.integration&#39;</span> <span class="token comment">// 高德地图依赖</span>\n    <span class="token operator">+</span>implementation <span class="token string">&#39;androidx.appcompat:appcompat:1.0.0&#39;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>android下的&gt;src&gt;AndroidManifest.xml</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token generics"><span class="token punctuation">&lt;</span>application<span class="token punctuation">&gt;</span></span>\n <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n     <span class="token operator">+</span><span class="token operator">&lt;</span>meta<span class="token operator">-</span>data android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">&quot;com.amap.api.v2.apikey&quot;</span> android<span class="token punctuation">:</span>value<span class="token operator">=</span><span class="token string">&quot;d7aba329530bff4dce38b06aed--高德的key&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>\n\t<span class="token operator">+</span><span class="token operator">&lt;</span>service android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">&quot;com.amap.api.location.APSService&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>service<span class="token operator">&gt;</span>\n <span class="token operator">&lt;</span><span class="token operator">/</span>application<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>android下的&gt;src&gt;main&gt;profile&gt;AndroidManifest.xml</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>用于访问GPS定位<span class="token operator">--</span><span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>uses<span class="token operator">-</span>permission<span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>用于获取运营商信息，用于支持提供运营商信息相关的接口<span class="token operator">--</span><span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>uses<span class="token operator">-</span>permission<span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>用于访问wifi网络信息，wifi信息会用于进行网络定位<span class="token operator">--</span><span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>uses<span class="token operator">-</span>permission<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h1><p>&#39;getAppBarWidget&#39; can&#39;t be assigned to the parameter type &#39;PreferredSizeWidget&#39;.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">HomeAppBar</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token keyword">implements</span> <span class="token class-name">PreferredSizeWidget</span> <span class="token punctuation">{</span> <span class="token comment">//加入 接口PreferredSizeWidget</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">PreferredSize</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">&#39;images/jd.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>\n        actions<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">Column</span><span class="token punctuation">(</span>\n            mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n            children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n              <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>crop_free<span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;扫一扫&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsetsDirectional</span><span class="token punctuation">.</span><span class="token function">fromSTEB</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Column</span><span class="token punctuation">(</span>\n            mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>\n            children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n              <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>sms<span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&#39;消息&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsetsDirectional</span><span class="token punctuation">.</span><span class="token function">fromSTEB</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      preferredSize<span class="token punctuation">:</span> <span class="token class-name">Size</span><span class="token punctuation">.</span><span class="token function">fromHeight</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    \n  <span class="token punctuation">}</span>\n  <span class="token comment">// final String name;</span>\n  <span class="token comment">// HomeAppBar({Key key, @required this.name}) :super(key: key);</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token comment">// TODO: implement preferredSize</span>\n    <span class="token class-name">Size</span> <span class="token keyword">get</span> preferredSize <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n      <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Size</span><span class="token punctuation">(</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">44.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="去除顶部半透明" tabindex="-1"><a class="header-anchor" href="#去除顶部半透明" aria-hidden="true">#</a> 去除顶部半透明</h2><p><img src="/image/flutter/4158227332-5ea654ce483c9_articlex.png" alt="360截图20200427015824935.png"></p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>helloflutter\n\n<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>android<span class="token punctuation">.</span>FlutterActivity\n<span class="token comment">//---增加部分</span>\n<span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Build<span class="token punctuation">;</span>\n<span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle<span class="token punctuation">;</span>\n<span class="token comment">//----end</span>\n<span class="token keyword">class</span> MainActivity<span class="token operator">:</span> <span class="token function">FlutterActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n   <span class="token comment">//-----增加部分</span>\n    <span class="token comment">//设置状态栏沉浸式透明（修改flutter状态栏黑色半透明为全透明）</span>\n<span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">&gt;=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        window<span class="token punctuation">.</span>statusBarColor <span class="token operator">=</span> <span class="token number">0</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//---- end</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="flutter-swiper-裁剪border-radius" tabindex="-1"><a class="header-anchor" href="#flutter-swiper-裁剪border-radius" aria-hidden="true">#</a> flutter_swiper 裁剪border radius</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>外层加入<span class="token punctuation">:</span>\n<span class="token class-name">PhysicalModel</span><span class="token punctuation">(</span>\n            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span>\n            borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            clipBehavior<span class="token punctuation">:</span> <span class="token class-name">Clip</span><span class="token punctuation">.</span>antiAlias<span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="bottomnavigation切换保持" tabindex="-1"><a class="header-anchor" href="#bottomnavigation切换保持" aria-hidden="true">#</a> BottomNavigation切换保持</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> _TabsState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  int _currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token class-name">List</span> _TabsPages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Category</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> _pageController <span class="token operator">=</span> <span class="token class-name">PageController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 一</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;flutter ZJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> <span class="token class-name">PageView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>  <span class="token comment">// 二</span>\n          physics<span class="token punctuation">:</span> <span class="token class-name">NeverScrollableScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token comment">//禁止页面左右滑动切换</span>\n          controller<span class="token punctuation">:</span> _pageController<span class="token punctuation">,</span>\n          onPageChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> _currentIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                _currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token comment">//回调函数</span>\n          itemCount<span class="token punctuation">:</span> _TabsPages<span class="token punctuation">.</span>length<span class="token punctuation">,</span>\n          itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _TabsPages<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// 三</span>\n\n      bottomNavigationBar<span class="token punctuation">:</span> <span class="token class-name">BottomNavigationBar</span><span class="token punctuation">(</span>\n          currentIndex<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_currentIndex<span class="token punctuation">,</span>\n          onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              _pageController<span class="token punctuation">.</span><span class="token function">jumpToPage</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          type<span class="token punctuation">:</span> <span class="token class-name">BottomNavigationBarType</span><span class="token punctuation">.</span>fixed<span class="token punctuation">,</span>\n          items<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n            <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>\n              title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;首页&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n           \t<span class="token comment">//....</span>\n          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>子页面\n<span class="token keyword">class</span> _HomeState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span><span class="token punctuation">&gt;</span></span> \n<span class="token keyword">with</span> <span class="token class-name">AutomaticKeepAliveClientMixin</span> <span class="token punctuation">{</span> <span class="token comment">// AutomaticKeepAliveClientMixin</span>\n\n <span class="token metadata symbol">@override</span>\n  bool <span class="token keyword">get</span> wantKeepAlive <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// </span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://blog.csdn.net/qq_32687703/article/details/95645331?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-6-95645331.nonecase&amp;utm_term=flutter%20%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%90%A6%E5%8F%AF%E8%A7%81&amp;spm=1000.2123.3001.4430\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://blog.csdn.net/c6e5uli1n/article/details/104666263\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="获取文本是否换行" tabindex="-1"><a class="header-anchor" href="#获取文本是否换行" aria-hidden="true">#</a> 获取文本是否换行</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>bool <span class="token function">_isExpansion</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">TextPainter</span> _textPainter <span class="token operator">=</span> <span class="token class-name">TextPainter</span><span class="token punctuation">(</span>\n        maxLines<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>maxLines <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">2</span><span class="token punctuation">,</span>\n        ellipsis<span class="token punctuation">:</span> <span class="token string">&#39;22222&#39;</span><span class="token punctuation">,</span>\n        text<span class="token punctuation">:</span> <span class="token class-name">TextSpan</span><span class="token punctuation">(</span>\n          text<span class="token punctuation">:</span> text<span class="token punctuation">,</span>\n          style<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>textStyle<span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        textDirection<span class="token punctuation">:</span> <span class="token class-name">TextDirection</span><span class="token punctuation">.</span>ltr<span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>maxWidth <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">1.</span>sw <span class="token operator">-</span> <span class="token number">40.</span>r<span class="token punctuation">,</span> minWidth<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t\n  <span class="token comment">// 判断</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>_textPainter<span class="token punctuation">.</span>didExceedMaxLines<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">//判断 文本是否需要截断</span>\n      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="获取元素宽度" tabindex="-1"><a class="header-anchor" href="#获取元素宽度" aria-hidden="true">#</a> 获取元素宽度</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPostFrameCallback</span><span class="token punctuation">(</span>_setTitleWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">_setTitleWidth</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">final</span> <span class="token class-name">RenderBox</span> renderContainer <span class="token operator">=</span>\n        _titleWidthKey<span class="token punctuation">.</span>currentContext<span class="token punctuation">.</span><span class="token function">findRenderObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      titleWidth <span class="token operator">=</span> renderContainer<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="重启app" tabindex="-1"><a class="header-anchor" href="#重启app" aria-hidden="true">#</a> 重启App</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>RestartWidget.restartApp(context);\nUniqueKey();\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="渐变appbar" tabindex="-1"><a class="header-anchor" href="#渐变appbar" aria-hidden="true">#</a> 渐变appbar</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://www.jianshu.com/p/b0b1c6308674\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="flutterdriver-自动化测试" tabindex="-1"><a class="header-anchor" href="#flutterdriver-自动化测试" aria-hidden="true">#</a> flutterDriver 自动化测试</h2><h2 id="listview-优化" tabindex="-1"><a class="header-anchor" href="#listview-优化" aria-hidden="true">#</a> listview 优化</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://zoyi14.smartapps.cn/pages/note/index?slug=4528bec31231&amp;origin=share&amp;hostname=baiduboxapp&amp;_swebfr=1\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="自定义appbar" tabindex="-1"><a class="header-anchor" href="#自定义appbar" aria-hidden="true">#</a> 自定义appbar</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">CustomAppBar</span> <span class="token keyword">extends</span> <span class="token class-name">PreferredSize</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">final</span> <span class="token class-name">Widget</span> child<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> double height<span class="token punctuation">;</span>\n\n  <span class="token class-name">CustomAppBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    required <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span>\n    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> child<span class="token punctuation">,</span> preferredSize<span class="token punctuation">:</span> <span class="token class-name">Size</span><span class="token punctuation">.</span><span class="token function">fromHeight</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> child<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="触摸收起键盘" tabindex="-1"><a class="header-anchor" href="#触摸收起键盘" aria-hidden="true">#</a> 触摸收起键盘</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>main<span class="token punctuation">.</span>dart\n\nbuilder<span class="token punctuation">:</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span>child<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>\n      <span class="token comment">// 触摸收起键盘</span>\n        behavior<span class="token punctuation">:</span> <span class="token class-name">HitTestBehavior</span><span class="token punctuation">.</span>translucent<span class="token punctuation">,</span>\n        onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        child<span class="token punctuation">:</span>child<span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="保存图片" tabindex="-1"><a class="header-anchor" href="#保存图片" aria-hidden="true">#</a> 保存图片</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>保存线上图片：\n  // var response = await Dio().get(url, options: Options(responseType: ResponseType.bytes));\n    // final result = await ImageGallerySaver.saveImage(Uint8List.fromList(response.data));\n \n \n   本地：\n  import &#39;package:flutter/services.dart&#39; show rootBundle;\nByteData _bytes = await rootBundle.load(&#39;assets/images/login/ic_launcher.png&#39;);\n    final result = await ImageGallerySaver.saveImage(_bytes.buffer.asUint8List());\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>权限申请</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;dart:io&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/cupertino.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter/services.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:permission_handler/permission_handler.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/// 创建人： Created by zhaolong</span>\n<span class="token comment">/// 创建时间：Created by  on 2020/12/9.</span>\n<span class="token comment">///</span>\n<span class="token comment">/// 可关注公众号：我的大前端生涯   获取最新技术分享</span>\n<span class="token comment">/// 可关注网易云课堂：https://study.163.com/instructor/1021406098.htm</span>\n<span class="token comment">/// 可关注博客：https://blog.csdn.net/zl18603543572</span>\n<span class="token comment">///</span>\n<span class="token comment">/// 代码清单</span>\n<span class="token comment">///权限请求模版</span>\n<span class="token keyword">class</span> <span class="token class-name">PermissionRequestWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">final</span> <span class="token class-name">Permission</span> permission<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> permissionList<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> bool isCloseApp<span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> leftButtonText<span class="token punctuation">;</span>\n\n  <span class="token class-name">PermissionRequestWidget</span><span class="token punctuation">(</span>\n      <span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>permission<span class="token punctuation">,</span>\n      required <span class="token keyword">this</span><span class="token punctuation">.</span>permissionList<span class="token punctuation">,</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>leftButtonText <span class="token operator">=</span> <span class="token string">&quot;再考虑一下&quot;</span><span class="token punctuation">,</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>isCloseApp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  _PermissionRequestWidgetState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>\n      <span class="token function">_PermissionRequestWidgetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _PermissionRequestWidgetState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PermissionRequestWidget</span><span class="token punctuation">&gt;</span></span>\n    <span class="token keyword">with</span> <span class="token class-name">WidgetsBindingObserver</span> <span class="token punctuation">{</span>\n  <span class="token comment">//页面的初始化函数</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">checkPermisson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">//注册观察者</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">AppLifecycleState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>resumed <span class="token operator">&amp;&amp;</span> _isGoSetting<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">checkPermisson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">///[PermissionStatus.denied] 用户拒绝访问所请求的特性</span>\n  <span class="token comment">///[PermissionStatus.granted] 用户被授予对所请求特性的访问权。</span>\n  <span class="token comment">///[PermissionStatus.restricted] iOS 平台 用户拒绝这个权限</span>\n  <span class="token comment">///[PermissionStatus.limited] 用户已授权此应用程序进行有限访问。</span>\n  <span class="token comment">///[PermissionStatus.permanentlyDenied] 被永久拒绝</span>\n  <span class="token keyword">void</span> <span class="token function">checkPermisson</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">PermissionStatus</span><span class="token operator">?</span> status<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token comment">//权限</span>\n    <span class="token class-name">Permission</span> permission <span class="token operator">=</span> widget<span class="token punctuation">.</span>permission<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">//权限状态</span>\n      status <span class="token operator">=</span> <span class="token keyword">await</span> permission<span class="token punctuation">.</span>status<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>status<span class="token punctuation">.</span>isLimited<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">//第一次申请</span>\n      <span class="token function">showPermissonAlert</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>permissionList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;同意&quot;</span><span class="token punctuation">,</span> permission<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token punctuation">.</span>isDenied<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">showPermissonAlert</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>permissionList<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;去设置中心&quot;</span><span class="token punctuation">,</span> permission<span class="token punctuation">,</span>\n            isSetting<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token comment">//用户第一次申请拒绝</span>\n      <span class="token function">showPermissonAlert</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>permissionList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;重试&quot;</span><span class="token punctuation">,</span> permission<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token punctuation">.</span>isPermanentlyDenied<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">//第二次申请 用户拒绝</span>\n      <span class="token function">showPermissonAlert</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>permissionList<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;去设置中心&quot;</span><span class="token punctuation">,</span> permission<span class="token punctuation">,</span>\n          isSetting<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token comment">//通过</span>\n      <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">//是否去设置中心</span>\n  bool _isGoSetting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">void</span> <span class="token function">showPermissonAlert</span><span class="token punctuation">(</span>\n      <span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">String</span> rightString<span class="token punctuation">,</span> <span class="token class-name">Permission</span> permission<span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>bool isSetting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">showCupertinoDialog</span><span class="token punctuation">(</span>\n        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token class-name">CupertinoAlertDialog</span><span class="token punctuation">(</span>\n            title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;温馨提示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            content<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n              padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            actions<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n              <span class="token comment">//左边的按钮</span>\n              <span class="token class-name">CupertinoDialogAction</span><span class="token punctuation">(</span>\n                child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;${widget.leftButtonText}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                  <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>isCloseApp<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token function">closeApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n                    <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span><span class="token punctuation">,</span>\n              <span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token comment">//右边的按钮</span>\n              <span class="token class-name">CupertinoDialogAction</span><span class="token punctuation">(</span>\n                child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">&quot;$rightString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                  <span class="token comment">//关闭弹框</span>\n                  <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token keyword">if</span> <span class="token punctuation">(</span>isSetting<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    _isGoSetting <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n                    <span class="token comment">//去设置中心</span>\n                    <span class="token function">openAppSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n                    <span class="token comment">//申请权限</span>\n                    <span class="token function">requestPermiss</span><span class="token punctuation">(</span>permission<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span><span class="token punctuation">,</span>\n              <span class="token punctuation">)</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        context<span class="token punctuation">:</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">void</span> <span class="token function">requestPermiss</span><span class="token punctuation">(</span><span class="token class-name">Permission</span> permission<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token comment">//发起权限申请</span>\n    <span class="token class-name">PermissionStatus</span> status <span class="token operator">=</span> <span class="token keyword">await</span> permission<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">//校验</span>\n    <span class="token function">checkPermisson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">/// TODO 暂未使用</span>\n  <span class="token keyword">void</span> <span class="token function">requestPermissionList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Permission</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token comment">//多个权限申请</span>\n    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Permission</span><span class="token punctuation">,</span> <span class="token class-name">PermissionStatus</span><span class="token punctuation">&gt;</span></span> statuses <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token punctuation">[</span>\n      <span class="token class-name">Permission</span><span class="token punctuation">.</span>location<span class="token punctuation">,</span>\n      <span class="token class-name">Permission</span><span class="token punctuation">.</span>storage<span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">void</span> <span class="token function">closeApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">//关闭应用的方法</span>\n    <span class="token class-name">SystemChannels</span><span class="token punctuation">.</span>platform<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">&quot;SystemNavigator.pop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">//注销观察者</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br></div></div><h2 id="获取粘贴内容" tabindex="-1"><a class="header-anchor" href="#获取粘贴内容" aria-hidden="true">#</a> 获取粘贴内容</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">with</span> <span class="token class-name">WidgetsBindingObserver</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n\n\n<span class="token metadata symbol">@override</span>\n<span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      <span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">///监听应用从后台切换到前台时，读取粘贴板中的数据，验证URL，已保存分享</span>\n  <span class="token metadata symbol">@override</span>\n  <span class="token keyword">void</span> <span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">AppLifecycleState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>resumed<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> clipboardData <span class="token operator">=</span> <span class="token class-name">Clipboard</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token class-name">Clipboard</span><span class="token punctuation">.</span>kTextPlain<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      clipboardData<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token function">debugPrint</span><span class="token punctuation">(</span><span class="token string">&quot;clipboardData=&gt; ${value?.text}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span>\n            <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>text <span class="token operator">!=</span> <span class="token keyword">null</span>\n            <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>text<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty\n            <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>text<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;https://&quot;</span><span class="token punctuation">)</span>\n            <span class="token operator">||</span> value<span class="token punctuation">.</span>text<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token class-name">Get</span><span class="token punctuation">.</span><span class="token function">dialog</span><span class="token punctuation">(</span><span class="token class-name">ShareArticleDialog</span><span class="token punctuation">(</span>url <span class="token punctuation">:</span>  value<span class="token punctuation">.</span>text<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h1 id="flutter-插件" tabindex="-1"><a class="header-anchor" href="#flutter-插件" aria-hidden="true">#</a> flutter 插件</h1><h3 id="国外论坛" tabindex="-1"><a class="header-anchor" href="#国外论坛" aria-hidden="true">#</a> 国外论坛</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://dev.to/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="瀑布流" tabindex="-1"><a class="header-anchor" href="#瀑布流" aria-hidden="true">#</a> 瀑布流</h3><p>flutter_staggered_grid_view</p><h3 id="bottombar" tabindex="-1"><a class="header-anchor" href="#bottombar" aria-hidden="true">#</a> bottombar</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>curved_navigation_bar\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="工具集" tabindex="-1"><a class="header-anchor" href="#工具集" aria-hidden="true">#</a> 工具集</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://dev.to/parabeac/5-tools-to-supercharge-your-flutter-development-1m0l\n\nhttps://pub.flutter-io.cn/packages/pk_skeleton\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="flutter-swiper" tabindex="-1"><a class="header-anchor" href="#flutter-swiper" aria-hidden="true">#</a> flutter_swiper</h3><p>地址:https://pub.dev/packages/flutter_swiper</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;package:flutter_swiper/flutter_swiper.dart&#39;</span><span class="token punctuation">;</span>\n\n\n<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>\n\n  <span class="token metadata symbol">@override</span>\n  _HomeState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_HomeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _HomeState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> title<span class="token punctuation">;</span>\n\n  <span class="token class-name">Widget</span> <span class="token function">_swiperview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> imgList <span class="token operator">=</span> <span class="token punctuation">[</span>\n      <span class="token string">&quot;https://zhijia-pro.oss-cn-shenzhen.aliyuncs.com/h5/ad/AI%E9%A3%8E%E6%A0%BCh5.png&quot;</span><span class="token punctuation">,</span>\n      <span class="token string">&quot;https://zhijia-pro.oss-cn-shenzhen.aliyuncs.com/h5/ad/AI%E6%99%BA%E9%80%89%20%28h5%29.png&quot;</span><span class="token punctuation">,</span>\n      <span class="token string">&quot;https://zhijia-pro.oss-cn-shenzhen.aliyuncs.com/h5/ad/0%E5%85%83%E6%90%9E%E5%AE%9A%E8%AE%BE%E8%AE%A1h5.png&quot;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>\n        <span class="token comment">// 必须设置宽高 或AspectRatio 设置宽高比</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">AspectRatio</span><span class="token punctuation">(</span>\n        aspectRatio<span class="token punctuation">:</span> <span class="token number">540</span> <span class="token operator">/</span> <span class="token number">216</span><span class="token punctuation">,</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">Swiper</span><span class="token punctuation">(</span>\n          itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">network</span><span class="token punctuation">(</span>\n              imgList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>\n              fit<span class="token punctuation">:</span> <span class="token class-name">BoxFit</span><span class="token punctuation">.</span>cover<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          itemCount<span class="token punctuation">:</span> imgList<span class="token punctuation">.</span>length<span class="token punctuation">,</span>\n          <span class="token comment">// pagination: new SwiperPagination(),</span>\n          pagination<span class="token punctuation">:</span> <span class="token class-name">SwiperPagination</span><span class="token punctuation">(</span>\n            builder<span class="token punctuation">:</span> <span class="token class-name">RectSwiperPaginationBuilder</span><span class="token punctuation">(</span>\n              size<span class="token punctuation">:</span> <span class="token class-name">Size</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              activeSize<span class="token punctuation">:</span> <span class="token class-name">Size</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              activeColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>\n              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>bottomCenter<span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n          <span class="token comment">// control: new SwiperControl(),</span>\n          autoplay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n          loop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n          <span class="token comment">// viewportFraction: 0.8,</span>\n          <span class="token comment">// scale: 0.9,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata symbol">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">ListView</span><span class="token punctuation">(</span>\n      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n        <span class="token function">_swiperview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><h3 id="flutter-screenutil" tabindex="-1"><a class="header-anchor" href="#flutter-screenutil" aria-hidden="true">#</a> flutter_screenutil</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>dependencies:\n  flutter:\n    sdk: flutter\n  # 添加依赖\n  flutter_screenutil: ^2.3.0\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import &#39;package:flutter_screenutil/flutter_screenutil.dart&#39;;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://pub.dev/packages/flutter_screenutil\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// 需要放入build 中; 要放入路由之后;\nScreenUtil.init(context, width: 750, height: 1334, allowFontScaling: false);\n  \n   width: ScreenUtil().setWidth(335),\n   height: ScreenUtil().setHeight(221),\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="url-launcher" tabindex="-1"><a class="header-anchor" href="#url-launcher" aria-hidden="true">#</a> url_launcher</h3><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>1、在默认浏览器中打开网址\n    <span class="token property">http</span><span class="token punctuation">:</span>&lt;URL&gt; <span class="token punctuation">,</span> <span class="token property">https</span><span class="token punctuation">:</span>&lt;URL&gt;\n    <span class="token property">http</span><span class="token punctuation">:</span>//flutter.io\n2、发送邮件\n    <span class="token property">mailto</span><span class="token punctuation">:</span>&lt;email address&gt;subject=&lt;subject&gt;&amp;body=&lt;body&gt;\n    <span class="token property">mailto</span><span class="token punctuation">:</span>smith@example.org?subject=News&amp;body=New%20plugin\n3、拨打电话\n    <span class="token property">tel</span><span class="token punctuation">:</span>&lt;phone number&gt;\n  callurl =  <span class="token string">&#39;tel:+1 555 010 999&#39;</span>\n3、发送信息\n    <span class="token property">sms</span><span class="token punctuation">:</span>&lt;phone number&gt; \n    <span class="token property">sms</span><span class="token punctuation">:</span>5550101234\n        \n<span class="token function">launch</span><span class="token punctuation">(</span>callurl<span class="token punctuation">)</span>        \n<span class="token function">canLaunch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>   \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="调试工具" tabindex="-1"><a class="header-anchor" href="#调试工具" aria-hidden="true">#</a> 调试工具</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://flutter.dev/docs/development/tools/devtools/vscode\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>获取设备信息</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://segmentfault.com/a/1190000014913010?utm_source=index-hottest\ndevice_info: \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>定位</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>amap_location: \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>permission_handler</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>权限\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>getui</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token class-name">GetuiLaboratory</span><span class="token operator">/</span>getui<span class="token operator">-</span>flutter<span class="token operator">-</span>plugin\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="安卓-cpu版本" tabindex="-1"><a class="header-anchor" href="#安卓-cpu版本" aria-hidden="true">#</a> 安卓 cpu版本</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> flutter build apk --target-platform android-arm,android-arm64,android-x64 --split-per-abi\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>引用: https://blog.csdn.net/ouyang_peng/article/details/51168072</p><ol><li>armeabiv-v7a: 第7代及以上的 ARM 处理器。2011年15月以后的生产的大部分Android设备都使用它.</li><li>arm64-v8a: 第8代、64位ARM处理器，很少设备，三星 Galaxy S6是其中之一。</li><li>armeabi: 第5代、第6代的ARM处理器，早期的手机用的比较多。</li><li>x86: 平板、模拟器用得比较多。</li><li>x86_64: 64位的平板。</li></ol><h1 id="启动页" tabindex="-1"><a class="header-anchor" href="#启动页" aria-hidden="true">#</a> 启动页</h1><p>生成</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://appicon.co/\nhttps://icon.wuruihong.com/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>android&gt;app&gt;main&gt;AndroidManifest.xml\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name">.....</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name">......</span><span class="token punctuation">&gt;</span></span>\n        \t...... \n            // 加入如下\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>\n              <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>io.flutter.app.android.SplashScreenUntilFirstFrame<span class="token punctuation">&quot;</span></span>\n              <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>\n             <span class="token punctuation">/&gt;</span></span>\n\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>\n\t\t\t......\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>android &gt; app &gt; main &gt; res &gt; drawable\n\n<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n<span class="token comment">&lt;!-- Modify this file to customize your launch splash screen --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layer-list</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@android:color/white<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n\n    <span class="token comment">&lt;!-- 加入如下--&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bitmap</span>\n            <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>\n            <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/launch_image<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n         <span class="token comment">&lt;!-- launch_image.png 为当前目录下的图片 --&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layer-list</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ios\nios\\Runner\\Assets.xcassets\\LaunchImage.imageset\n替换LaunchImage.png 中的图片\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>全屏展示图片</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n<span class="token comment">&lt;!-- Modify this file to customize your launch splash screen --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layer-list</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@android:color/white<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n\n    <span class="token comment">&lt;!-- You can insert your own image assets here --&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bitmap</span>\n            <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fill<span class="token punctuation">&quot;</span></span>\n            <span class="token attr-name"><span class="token namespace">android:</span>mipMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>\n            <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/launch_image<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layer-list</span><span class="token punctuation">&gt;</span></span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h1 id="打包" tabindex="-1"><a class="header-anchor" href="#打包" aria-hidden="true">#</a> 打包</h1><p>参考：https://www.jianshu.com/p/04eb531da438</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>项目根目录<span class="token operator">/</span>android<span class="token operator">/</span>app<span class="token operator">/</span>src<span class="token operator">/</span>main<span class="token operator">/</span><span class="token class-name">AndroidManifest</span><span class="token punctuation">.</span>xml\n\nandroid<span class="token punctuation">:</span>label<span class="token operator">=</span><span class="token string">&quot;flutter_app&quot;</span>   <span class="token comment">//配置APP的名称，支持中文</span>\nandroid<span class="token punctuation">:</span>icon<span class="token operator">=</span><span class="token string">&quot;@mipmap/ic_launcher&quot;</span> <span class="token comment">//APP图标的文件名称,所以这个图标文件名可以在这个地方配置</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>生成 keystore</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n\n在VScode输入flutter doctor -v找到Android toolchain栏目下的Java binary at：,复制这个标题项的地址。\n我Mac的地址是/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\n在VScode的终端输入查询到的java根目录地址以及keytool -genkey -v -keystore F:/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key \n\n即：/Applications/&#39;Android Studio.app&#39;/Contents/jre/jdk/Contents/Home/bin/keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\n回车后，他会要求你输入密钥库口令，记住你的口令，稍后会用到。\n继续操作后，还会要求你的密钥密码，同样也要记住这个密码。\n之后在你的user目录下生成key.jks.这个key.jks路径可以在上面的命令行中修改。记住这个文件不能共享给任何人!\n有了这个key.jks文件后，可以到项目目录下的android文件夹下，创建一个名为key.properties的文件，并打开粘贴下面的代码。\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="build-gradle" tabindex="-1"><a class="header-anchor" href="#build-gradle" aria-hidden="true">#</a> build.gradle</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>buildscript <span class="token punctuation">{</span>\n    ext<span class="token punctuation">.</span>kotlin_version <span class="token operator">=</span> <span class="token string">&#39;1.3.50&#39;</span>\n    repositories <span class="token punctuation">{</span>\n<span class="token comment">//        google()</span>\n<span class="token comment">//        jcenter()</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/google&#39;</span> <span class="token punctuation">}</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/jcenter&#39;</span> <span class="token punctuation">}</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;http://maven.aliyun.com/nexus/content/groups/public&#39;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    dependencies <span class="token punctuation">{</span>\n        classpath <span class="token string">&#39;com.android.tools.build:gradle:3.5.0&#39;</span>\n        classpath <span class="token string">&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nallprojects <span class="token punctuation">{</span>\n    repositories <span class="token punctuation">{</span>\n<span class="token comment">//        google()</span>\n<span class="token comment">//        jcenter()</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/google&#39;</span> <span class="token punctuation">}</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/jcenter&#39;</span> <span class="token punctuation">}</span>\n        maven <span class="token punctuation">{</span> url <span class="token string">&#39;http://maven.aliyun.com/nexus/content/groups/public&#39;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nrootProject<span class="token punctuation">.</span>buildDir <span class="token operator">=</span> <span class="token string">&#39;../build&#39;</span>\nsubprojects <span class="token punctuation">{</span>\n    project<span class="token punctuation">.</span>buildDir <span class="token operator">=</span> <span class="token string">&quot;${rootProject.buildDir}/${project.name}&quot;</span>\n<span class="token punctuation">}</span>\nsubprojects <span class="token punctuation">{</span>\n    project<span class="token punctuation">.</span><span class="token function">evaluationDependsOn</span><span class="token punctuation">(</span><span class="token string">&#39;:app&#39;</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\ntask <span class="token function">clean</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token class-name">Delete</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    delete rootProject<span class="token punctuation">.</span>buildDir\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>app下 build.gradle</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\nif (flutterVersionCode == null) {\n    flutterVersionCode = &#39;1&#39;\n}\n\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\nif (flutterVersionName == null) {\n    flutterVersionName = &#39;1.0&#39;\n}\n\napply plugin: &#39;com.android.application&#39;\napply plugin: &#39;kotlin-android&#39;\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\n// 新增\ndef keystorePropertiesFile = rootProject.file(&quot;key.properties&quot;)\ndef keystoreProperties = new Properties()\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\nandroid {\n    compileSdkVersion 28\n\n    sourceSets {\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\n    }\n\n    lintOptions {\n        disable &#39;InvalidPackage&#39;\n        checkReleaseBuilds false //新增\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.myjd&quot;\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties[&#39;keyAlias&#39;]\n            keyPassword keystoreProperties[&#39;keyPassword&#39;]\n            storeFile file(keystoreProperties[&#39;storeFile&#39;])\n            storePassword keystoreProperties[&#39;storePassword&#39;]\n        }\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.release\n            // signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source &#39;../..&#39;\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br></div></div><p>android 目录下 创建key.properties</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>storePassword=woainia520\nkeyPassword=woainia520\nkeyAlias=key\nstoreFile=F:/key.jks\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>打包命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flutter build apk\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>在线生成图标</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://appiconmaker.co/Home/\n\nhttps://icon.wuruihong.com\n\n代码插件：flutter_launcher_icons\nhttps://pub.dev/packages/flutter_launcher_icons#-readme-tab-\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>声明</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;!--用于进行网络定位--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于访问GPS定位--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于获取运营商信息，用于支持提供运营商信息相关的接口--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于访问wifi网络信息，wifi信息会用于进行网络定位--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于获取wifi的获取权限，wifi信息会用来进行网络定位--&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于访问网络，网络定位需要上网--&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于读取手机当前的状态--&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于写入缓存数据到扩展存储卡--&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于申请调用A-GPS模块--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot;&gt;&lt;/uses-permission&gt;\n&lt;!--用于申请获取蓝牙信息进行室内定位--&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;&gt;&lt;/uses-permission&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="修改包名" tabindex="-1"><a class="header-anchor" href="#修改包名" aria-hidden="true">#</a> 修改包名</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>包名\nAndroid 是在 android ▸ app ▸ src ▸ main ▸ AndroidManifest.xml 中修改package=&quot;xxx.xxx.xxx&quot;;\n以及在 android ▸ app ▸ src ▸ build.gradle中修改applicationId &quot;xxx.xxx.xxx&quot;;\n并且需要修改android ▸ app ▸ src ▸ main ▸ ...... ▸ MainActivity.java对应的包路径\n\niOS 在 ios ▸ Runner ▸ Info.plist 中修改CFBundleIdentifier对应的Value\n\n写法与原生相同，并且可以不一致。\n\nPS:不推荐修改包名，包名最好在项目开始时定下...之后修改可能会出点什么小问题...\n\n应用名称\nAndroid 是在 android ▸ app ▸ src ▸ main ▸ AndroidManifest.xml 中修改android:label=&quot;XXX&quot;;\niOS 在 ios ▸ Runner ▸ Info.plist 中修改CFBundleName对应的Value\n图标\nAndroid 在android ▸ app ▸ src ▸ res ▸ mipmap-... 文件夹中替换相应图片\niOS 在 ios ▸ Runner ▸ Assets.xcassets ▸ AppIcon.appiconset文件夹中替换相应尺寸的图片， 如果使用不同的文件名，那还必须更新同一目录中的Contents.json文件。\n启动图片\nAndroid 在android ▸ app ▸ src ▸ res ▸ drawable ▸ launch_background.xml 通过自定义drawable来实现自定义启动界面。\niOS 在 ios ▸ Runner ▸ Assets.xcassets ▸ LaunchImage.imageset文件夹中替换相应尺寸的图片， 如果使用不同的文件名，那还必须更新同一目录中的Contents.json文件。\n其他方式\n可以使用Xcode打开ios文件夹下的Runner.xcworkspace项目，像原生项目一样修改。\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="分包" tabindex="-1"><a class="header-anchor" href="#分包" aria-hidden="true">#</a> 分包</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flutter build apk --target-platform android-arm,android-arm64,android-x64 --split-per-abi\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="混淆" tabindex="-1"><a class="header-anchor" href="#混淆" aria-hidden="true">#</a> 混淆</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>flutter build apk <span class="token operator">--</span>obfuscate <span class="token operator">--</span>split<span class="token operator">-</span>debug<span class="token operator">-</span>info<span class="token operator">=</span><span class="token operator">/</span><span class="token operator">&lt;</span>project<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">&gt;</span></span>\n\nflutter build apk <span class="token operator">--</span>obfuscate <span class="token operator">--</span>split<span class="token operator">-</span>debug<span class="token operator">-</span>info<span class="token operator">=</span>splitMap\n    \n    \nflutter build apk <span class="token operator">--</span>obfuscate <span class="token operator">--</span>split<span class="token operator">-</span>debug<span class="token operator">-</span>info<span class="token operator">=</span><span class="token operator">/</span><span class="token operator">&lt;</span>project<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">&gt;</span></span> <span class="token operator">--</span>target<span class="token operator">-</span>platform android<span class="token operator">-</span>arm<span class="token punctuation">,</span>android<span class="token operator">-</span>arm64<span class="token punctuation">,</span>android<span class="token operator">-</span>x64 <span class="token operator">--</span>split<span class="token operator">-</span>per<span class="token operator">-</span>abi\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>--obfuscate：开启混淆开关。</li><li>--split-debug-info：混淆生成的map符号表缓存到此位置。</li></ul><h1 id="教程" tabindex="-1"><a class="header-anchor" href="#教程" aria-hidden="true">#</a> 教程</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>这个项目屌  收录了Flutter 300多个组件演示   https://github.com/toly1994328/FlutterUnit\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://laomengit.com/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>咸鱼技术分享\nhttps://www.yuque.com/xytech/flutter/lgxv30\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="开源项目" tabindex="-1"><a class="header-anchor" href="#开源项目" aria-hidden="true">#</a> 开源项目</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git clone git@github.com:cnad666/flutter_use.git\ngit clone git@github.com:simplezhli/flutter_deer.git\ngit clone git@github.com:toly1994328/flutterunit.git\ngit clone https://github.com/sunyongsheng/Allpass.git\ngit clone https://github.com/Sky24n/flutter_wanandroid\ngit clone https://gitee.com/shizidada/moose_app\ngit clone git@github.com:ertcs/smart_home.git\n\nhttps://github.com/toly1994328/FlutterUnit\n\nhttps://pub.dev/packages/expandable_text\n\nhttps://guoshuyu.cn/home/web/#/\n\ngetx项目\nhttps://github.com/jhflovehqy/flutter_bolg_manage\n\n问题博客\nhttps://www.didierboelens.com/blog/\n\nui框架\n http://imp-fe.sm.cn/millui/\n https://my.oschina.net/u/4082303/blog/4416515\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>https://github.com/best-flutter?page=1</p><h2 id="flutter系统样式" tabindex="-1"><a class="header-anchor" href="#flutter系统样式" aria-hidden="true">#</a> flutter系统样式</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://material.io/design/typography/the-type-system.html#applying-the-type-scale\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h1><h2 id="flutter-环境区分" tabindex="-1"><a class="header-anchor" href="#flutter-环境区分" aria-hidden="true">#</a> flutter 环境区分</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> bool kReleaseMode <span class="token operator">=</span> bool<span class="token punctuation">.</span><span class="token function">fromEnvironment</span><span class="token punctuation">(</span><span class="token string">&#39;dart.vm.product&#39;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> bool kProfileMode <span class="token operator">=</span> bool<span class="token punctuation">.</span><span class="token function">fromEnvironment</span><span class="token punctuation">(</span><span class="token string">&#39;dart.vm.profile&#39;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> bool kDebugMode <span class="token operator">=</span> <span class="token operator">!</span>kReleaseMode <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>kProfileMode<span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> double precisionErrorTolerance <span class="token operator">=</span> <span class="token number">1e-10</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> bool kIsWeb <span class="token operator">=</span> <span class="token function">identical</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="android-多渠道打包" tabindex="-1"><a class="header-anchor" href="#android-多渠道打包" aria-hidden="true">#</a> android 多渠道打包</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>flutter build apk  <span class="token operator">--</span>dart<span class="token operator">-</span>define<span class="token operator">=</span><span class="token string">&quot;APP_CHANNEL=huawei&quot;</span>  <span class="token operator">--</span>dart<span class="token operator">-</span>define<span class="token operator">=</span><span class="token string">&quot;ENV=prod&quot;</span> \n\n<span class="token comment">/// 获取命令行参数</span>\n<span class="token keyword">const</span> _channel <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">fromEnvironment</span><span class="token punctuation">(</span>APP_CHANNEL<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出:huawei;</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="build-gradle-1" tabindex="-1"><a class="header-anchor" href="#build-gradle-1" aria-hidden="true">#</a> build.gradle</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>def localProperties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\ndef localPropertiesFile <span class="token operator">=</span> rootProject<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&#39;local.properties&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>localPropertiesFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    localPropertiesFile<span class="token punctuation">.</span><span class="token function">withReader</span><span class="token punctuation">(</span><span class="token string">&#39;UTF-8&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> reader <span class="token operator">-&gt;</span>\n        localProperties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\ndef flutterRoot <span class="token operator">=</span> localProperties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&#39;flutter.sdk&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>flutterRoot <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">GradleException</span><span class="token punctuation">(</span><span class="token string">&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\ndef flutterVersionCode <span class="token operator">=</span> localProperties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&#39;flutter.versionCode&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>flutterVersionCode <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    flutterVersionCode <span class="token operator">=</span> <span class="token string">&#39;1&#39;</span>\n<span class="token punctuation">}</span>\n\ndef flutterVersionName <span class="token operator">=</span> localProperties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&#39;flutter.versionName&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>flutterVersionName <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    flutterVersionName <span class="token operator">=</span> <span class="token string">&#39;1.0&#39;</span>\n<span class="token punctuation">}</span>\n\napply plugin<span class="token operator">:</span> <span class="token string">&#39;com.android.application&#39;</span>\napply plugin<span class="token operator">:</span> <span class="token string">&#39;kotlin-android&#39;</span>\napply from<span class="token operator">:</span> <span class="token string">&quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;</span>\n\n\ndef keystoreProperties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\ndef keystorePropertiesFile <span class="token operator">=</span> rootProject<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&#39;key.properties&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>keystorePropertiesFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    keystoreProperties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>keystorePropertiesFile<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 多渠道打包</span>\ndef dartEnvironmentVariables <span class="token operator">=</span> <span class="token punctuation">[</span>\n        APP_CHANNEL<span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>\n        ENV<span class="token operator">:</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">hasProperty</span><span class="token punctuation">(</span><span class="token string">&#39;dart-defines&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    dartEnvironmentVariables <span class="token operator">=</span> dartEnvironmentVariables <span class="token operator">+</span> project<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">&#39;dart-defines&#39;</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span>collectEntries <span class="token punctuation">{</span> entry <span class="token operator">-&gt;</span>\n                def pair <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span>\n                <span class="token punctuation">[</span><span class="token punctuation">(</span>pair<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span> pair<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n            <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 测试</span>\ndef ZJJPUSH_APPKEY <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>\n\n<span class="token keyword">if</span><span class="token punctuation">(</span>dartEnvironmentVariables<span class="token punctuation">.</span>ENV <span class="token operator">==</span> <span class="token string">&quot;prod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n<span class="token comment">//    正式</span>\n    ZJJPUSH_APPKEY <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>\n<span class="token punctuation">}</span>\n\n\nandroid <span class="token punctuation">{</span>\n    compileSdkVersion <span class="token number">30</span>\n    aaptOptions<span class="token punctuation">.</span>cruncherEnabled <span class="token operator">=</span> <span class="token boolean">false</span>\n    aaptOptions<span class="token punctuation">.</span>useNewCruncher <span class="token operator">=</span> <span class="token boolean">false</span>\n\n    sourceSets <span class="token punctuation">{</span>\n        main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>srcDirs <span class="token operator">+=</span> <span class="token string">&#39;src/main/kotlin&#39;</span>\n    <span class="token punctuation">}</span>\n    lintOptions <span class="token punctuation">{</span>\n        disable <span class="token string">&#39;InvalidPackage&#39;</span>\n        checkReleaseBuilds <span class="token boolean">false</span>\n        abortOnError <span class="token boolean">false</span>\n    <span class="token punctuation">}</span>\n    defaultConfig <span class="token punctuation">{</span>\n        <span class="token comment">// TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).</span>\n        applicationId <span class="token string">&quot;top.zhijia.zjmerchant&quot;</span>\n        minSdkVersion <span class="token number">19</span>\n        targetSdkVersion <span class="token number">30</span>\n        versionCode flutterVersionCode<span class="token punctuation">.</span><span class="token function">toInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        versionName flutterVersionName\n\n        ndk <span class="token punctuation">{</span>\n        <span class="token comment">// 极光配置 选择要添加的对应 cpu 类型的 .so 库。</span>\n        <span class="token comment">// abiFilters &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;x86&#39;, &#39;x86_64&#39;, &#39;mips&#39;, &#39;mips64&#39;, &#39;arm64-v8a&#39;</span>\n            abiFilters <span class="token string">&#39;armeabi&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;armeabi-v7a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;arm64-v8a&#39;</span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">// 打包带版本号</span>\n        <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;archivesBaseName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zjmerchant-${dartEnvironmentVariables.APP_CHANNEL}-${dartEnvironmentVariables.ENV}&quot;</span> <span class="token operator">+</span> flutterVersionName <span class="token operator">+</span> <span class="token string">&quot;(${flutterVersionCode})&quot;</span><span class="token operator">+</span><span class="token string">&quot;-${releaseTime()}&quot;</span><span class="token punctuation">)</span>\n        manifestPlaceholders <span class="token operator">=</span> <span class="token punctuation">[</span>\n        <span class="token comment">// 极光配置</span>\n                JPUSH_PKGNAME<span class="token operator">:</span> <span class="token string">&quot;top.zhijia.zjmerchant&quot;</span><span class="token punctuation">,</span>\n                <span class="token comment">// JPUSH_APPKEY : &quot;2e2a0023411164440e80d4da&quot;, /* 正式 NOTE: JPush 上注册的包名对应的 Appkey.*/</span>\n                JPUSH_APPKEY <span class="token operator">:</span> <span class="token string">&quot;${ZJJPUSH_APPKEY}&quot;</span><span class="token punctuation">,</span> <span class="token comment">/*测试*/</span>\n                JPUSH_CHANNEL<span class="token operator">:</span> <span class="token string">&quot;${dartEnvironmentVariables.APP_CHANNEL}&quot;</span><span class="token punctuation">,</span> <span class="token comment">/*暂时填写默认值即可.*/</span>\n\n                <span class="token comment">// MEIZU_APPKEY : &quot;MZ-魅族的APPKEY&quot;,</span>\n                <span class="token comment">// MEIZU_APPID : &quot;MZ-魅族的APPID&quot;,</span>\n                HUAWEI_APPID <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                HUAWEI_APPKEY <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n\n                XIAOMI_APPID  <span class="token operator">:</span> <span class="token string">&quot;MI-&quot;</span><span class="token punctuation">,</span>\n                XIAOMI_APPKEY <span class="token operator">:</span> <span class="token string">&quot;MI-&quot;</span><span class="token punctuation">,</span>\n\n                OPPO_APPID <span class="token operator">:</span> <span class="token string">&quot;OP-&quot;</span><span class="token punctuation">,</span> <span class="token comment">// OPPO平台注册的appid</span>\n                OPPO_APPKEY <span class="token operator">:</span> <span class="token string">&quot;OP-&quot;</span><span class="token punctuation">,</span> <span class="token comment">// OPPO平台注册的appkey</span>\n                OPPO_APPSECRET<span class="token operator">:</span> <span class="token string">&quot;OP-&quot;</span><span class="token punctuation">,</span><span class="token comment">//OPPO平台注册的appsecret</span>\n\n                <span class="token comment">// VIVO_APPKEY : &quot;xxxxxxx&quot;, // VIVO平台注册的appkey</span>\n                <span class="token comment">// VIVO_APPID : &quot;xxxxxx&quot;, // VIVO平台注册的appid </span>\n\n                <span class="token comment">// MEIZU_APPKEY : &quot;MZ-xxxxx&quot;, // 魅族平台注册的appkey</span>\n                <span class="token comment">// MEIZU_APPID : &quot;MZ-xxxxxx&quot;, // 魅族平台注册的appid</span>\n\n        <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  \n    signingConfigs <span class="token punctuation">{</span>\n        release <span class="token punctuation">{</span>\n            keyAlias keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;keyAlias&#39;</span><span class="token punctuation">]</span>\n            keyPassword keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;keyPassword&#39;</span><span class="token punctuation">]</span>\n            storeFile <span class="token function">file</span><span class="token punctuation">(</span>keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;storeFile&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n            storePassword keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;storePassword&#39;</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n        \n        debug <span class="token punctuation">{</span>\n            keyAlias keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;keyAlias&#39;</span><span class="token punctuation">]</span>\n            keyPassword keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;keyPassword&#39;</span><span class="token punctuation">]</span>\n            storeFile <span class="token function">file</span><span class="token punctuation">(</span>keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;storeFile&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n            storePassword keystoreProperties<span class="token punctuation">[</span><span class="token string">&#39;storePassword&#39;</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    buildTypes <span class="token punctuation">{</span>\n        release <span class="token punctuation">{</span>\n            <span class="token comment">// TODO: Add your own signing config for the release build.</span>\n            <span class="token comment">// Signing with the debug keys for now, so `flutter run --release` works.</span>\n            <span class="token comment">// signingConfig signingConfigs.debug</span>\n            signingConfig signingConfigs<span class="token punctuation">.</span>release\n            <span class="token comment">// 解决本地存储</span>\n            <span class="token comment">// minifyEnabled false</span>\n            <span class="token comment">// shrinkResources false</span>\n            useProguard <span class="token boolean">true</span>\n            proguardFiles <span class="token function">getDefaultProguardFile</span><span class="token punctuation">(</span><span class="token string">&#39;proguard-android-optimize.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;proguard-rules.pro&#39;</span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">// debug {</span>\n          \n        <span class="token comment">//     ndk { abiFilters &quot;armeabi-v7a&quot;, &#39;x86&#39;, &#39;x86_64&#39;}</span>\n        <span class="token comment">// }</span>\n        <span class="token comment">// debug {</span>\n        <span class="token comment">// //   真机</span>\n        <span class="token comment">//     ndk { abiFilters &quot;armeabi-v7a&quot;}</span>\n        <span class="token comment">// }</span>\n           <span class="token comment">//   虚拟机</span>\n        debug <span class="token punctuation">{</span>\n            ndk <span class="token punctuation">{</span> abiFilters <span class="token string">&#39;x86&#39;</span><span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n\n    <span class="token punctuation">}</span>\n\n\n<span class="token punctuation">}</span>\n\nflutter <span class="token punctuation">{</span>\n    source <span class="token string">&#39;../..&#39;</span>\n<span class="token punctuation">}</span>\ndef <span class="token function">releaseTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMddHHmm&quot;</span><span class="token punctuation">,</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">&quot;GMT+08:00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\ndependencies <span class="token punctuation">{</span>\n    implementation <span class="token string">&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span>\n    implementation <span class="token string">&#39;com.huawei.hms:push:5.3.0.301&#39;</span>\n    implementation <span class="token string">&#39;cn.jiguang.sdk.plugin:huawei:4.0.8&#39;</span>\n    implementation <span class="token string">&#39;cn.jiguang.sdk.plugin:xiaomi:4.0.8&#39;</span><span class="token comment">//版本号和对应的JPush版本号相同</span>\n    implementation <span class="token string">&#39;cn.jiguang.sdk.plugin:oppo:4.0.8&#39;</span><span class="token comment">//版本号和对应的JPush版本号相同</span>\n    <span class="token comment">// implementation &#39;cn.jiguang.sdk.plugin:vivo:4.0.8&#39;//版本号和对应的JPush版本号相同</span>\n<span class="token punctuation">}</span>\n <span class="token comment">// 华为推送</span>\napply plugin<span class="token operator">:</span> <span class="token string">&#39;com.huawei.agconnect&#39;</span>\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br></div></div><h2 id="flutter-与-android-通信" tabindex="-1"><a class="header-anchor" href="#flutter-与-android-通信" aria-hidden="true">#</a> flutter 与 Android 通信</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> methodName <span class="token operator">=</span> <span class="token string">&#39;zjAndroidPush&#39;</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">static</span> <span class="token class-name">MethodChannel</span> _methodChannel <span class="token operator">=</span> <span class="token class-name">MethodChannel</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">/// flutter  invokeMethod to android</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sendToAndroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> _methodChannel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">///</span>\n  <span class="token comment">/// android  invokeMethod callback</span>\n  <span class="token comment">///</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">_msglistenerCallbackInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    _methodChannel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>call<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&#39;msgCallback&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">_msgHandler</span><span class="token punctuation">(</span>call<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>android</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>package top<span class="token punctuation">.</span>zhijia<span class="token punctuation">.</span>zjmerchant<span class="token punctuation">;</span>\n\n<span class="token comment">// import android.app.Activity;</span>\n<span class="token comment">// import android.os.Bundle;</span>\n<span class="token comment">// import android.text.TextUtils;</span>\n<span class="token comment">// import android.util.Log;</span>\n<span class="token comment">// import android.widget.TextView;</span>\n\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span>Intent</span><span class="token punctuation">;</span>\n<span class="token comment">// import org.json.JSONException;</span>\n<span class="token comment">// import org.json.JSONObject;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span>WindowManager</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span>Activity</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span>Bundle</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span>TextUtils</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Log</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span>TextView</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span>NonNull</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">androidx<span class="token punctuation">.</span>lifecycle<span class="token punctuation">.</span></span>Lifecycle</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span>JSONException</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span>JSONObject</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>android<span class="token punctuation">.</span></span>FlutterActivity</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>android<span class="token punctuation">.</span></span>FlutterFragment</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span>FlutterEngine</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>GeneratedPluginRegister</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span>MethodChannel</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span>BinaryMessenger</span><span class="token punctuation">;</span>\n\n<span class="token comment">/**\n * Created by jiguang on 17/7/5.\n */</span>\n<span class="token comment">// Activity FlutterActivity</span>\npublic <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">FlutterActivity</span> <span class="token punctuation">{</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> TAG <span class="token operator">=</span> <span class="token string">&quot;OpenClickActivity&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 消息Id\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_MSGID <span class="token operator">=</span> <span class="token string">&quot;msg_id&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 该通知的下发通道\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_WHICH_PUSH_SDK <span class="token operator">=</span> <span class="token string">&quot;rom_type&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 通知标题\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_TITLE <span class="token operator">=</span> <span class="token string">&quot;n_title&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 通知内容\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_CONTENT <span class="token operator">=</span> <span class="token string">&quot;n_content&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 通知附加字段\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_EXTRAS <span class="token operator">=</span> <span class="token string">&quot;n_extras&quot;</span><span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 通知附加字段\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token class-name">MethodChannel</span> methodChannel<span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * 厂商通道 通知消息 的参数\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token class-name">String</span> pushExtras<span class="token punctuation">;</span>\n    <span class="token comment">/**\n     * flutter 通信\n     **/</span>\n    private <span class="token keyword">static</span> <span class="token class-name">BinaryMessenger</span> messenger<span class="token punctuation">;</span>\n\n    @<span class="token class-name">Override</span>\n    protected <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;---onCreate---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * 二次点击 执行\n     **/</span>\n    @<span class="token class-name">Override</span>\n    protected <span class="token keyword">void</span> <span class="token function">onNewIntent</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onNewIntent</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;---onNewIntent---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">setIntent</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>messenger <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">msgHandler</span><span class="token punctuation">(</span>messenger<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    @<span class="token class-name">Override</span>\n    protected <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;--onStart--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>messenger <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">msgHandler</span><span class="token punctuation">(</span>messenger<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * 二次点击\n     **/</span>\n    @<span class="token class-name">Override</span>\n    protected <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;--onResume--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * flutter 通信\n     **/</span>\n    @<span class="token class-name">Override</span>\n    public <span class="token keyword">void</span> <span class="token function">configureFlutterEngine</span><span class="token punctuation">(</span><span class="token class-name">FlutterEngine</span> flutterEngine<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">configureFlutterEngine</span><span class="token punctuation">(</span>flutterEngine<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        messenger <span class="token operator">=</span> flutterEngine<span class="token punctuation">.</span><span class="token function">getDartExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">msgHandler</span><span class="token punctuation">(</span>messenger<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;-configureFlutterEngine&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * flutter 消息处理\n     **/</span>\n    public <span class="token keyword">void</span> <span class="token function">msgHandler</span><span class="token punctuation">(</span><span class="token class-name">BinaryMessenger</span> messenger<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 与flutter 建立连接</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>methodChannel <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n            methodChannel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MethodChannel</span><span class="token punctuation">(</span>messenger<span class="token punctuation">,</span> <span class="token string">&quot;zjAndroidPush&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token function">handleOpenClick</span><span class="token punctuation">(</span>methodChannel<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        methodChannel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span>\n                <span class="token punctuation">(</span>call<span class="token punctuation">,</span> result<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n                    <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;zjAndroidPush&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;消息了了了了了了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        <span class="token comment">//  触发 flutter 的方法</span>\n                        methodChannel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">&quot;msgCallback&quot;</span><span class="token punctuation">,</span> pushExtras<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>pushExtras<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n                        result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    private <span class="token keyword">void</span> <span class="token function">handleOpenClick</span><span class="token punctuation">(</span><span class="token class-name">MethodChannel</span> methodChannel<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;用户点击打开了通知&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">String</span> data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token comment">//获取华为平台附带的jpush信息</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            data <span class="token operator">=</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token comment">//获取fcm、oppo、vivo、华硕、小米平台附带的jpush信息</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getExtras</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            data <span class="token operator">=</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getExtras</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;JMessageExtra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;msg content is &quot;</span> <span class="token operator">+</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token keyword">try</span> <span class="token punctuation">{</span>\n            <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">String</span> msgId <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">optString</span><span class="token punctuation">(</span>KEY_MSGID<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            byte whichPushSDK <span class="token operator">=</span> <span class="token punctuation">(</span>byte<span class="token punctuation">)</span> jsonObject<span class="token punctuation">.</span><span class="token function">optInt</span><span class="token punctuation">(</span>KEY_WHICH_PUSH_SDK<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">String</span> title <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">optString</span><span class="token punctuation">(</span>KEY_TITLE<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">String</span> content <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">optString</span><span class="token punctuation">(</span>KEY_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">String</span> extras <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">optString</span><span class="token punctuation">(</span>KEY_EXTRAS<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;msgId:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;title:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;content:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;extras:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>extras<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;platform:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">getPushSDKName</span><span class="token punctuation">(</span>whichPushSDK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG <span class="token operator">+</span> <span class="token string">&quot;--2&quot;</span><span class="token punctuation">,</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            pushExtras <span class="token operator">=</span> extras<span class="token punctuation">;</span>\n            <span class="token comment">//上报点击事件</span>\n            methodChannel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">&quot;msgCallback&quot;</span><span class="token punctuation">,</span> extras<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JSONException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;parse notification error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    private <span class="token class-name">String</span> <span class="token function">getPushSDKName</span><span class="token punctuation">(</span>byte whichPushSDK<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">String</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">switch</span> <span class="token punctuation">(</span>whichPushSDK<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;jpush&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;xiaomi&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;huawei&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;meizu&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;oppo&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;vivo&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;asus&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;fcm&quot;</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">default</span><span class="token punctuation">:</span>\n                name <span class="token operator">=</span> <span class="token string">&quot;jpush&quot;</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br></div></div><h2 id="检测https-忽略握手" tabindex="-1"><a class="header-anchor" href="#检测https-忽略握手" aria-hidden="true">#</a> 检测https 忽略握手</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token comment">/// 检测https 忽略握手</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">getHttpAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      <span class="token punctuation">(</span>dio<span class="token punctuation">.</span>httpClientAdapter <span class="token operator">as</span> <span class="token class-name">DefaultHttpClientAdapter</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onHttpClientCreate <span class="token operator">=</span>\n          <span class="token punctuation">(</span>client<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        client<span class="token punctuation">.</span>badCertificateCallback <span class="token operator">=</span>\n            <span class="token punctuation">(</span><span class="token class-name">X509Certificate</span> cert<span class="token punctuation">,</span> <span class="token class-name">String</span> host<span class="token punctuation">,</span> int port<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n\n <span class="token comment">/// 创建 dio 实例对象</span>\n  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dio</span><span class="token punctuation">&gt;</span></span> <span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>dio <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      dio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dio</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n      <span class="token keyword">try</span> <span class="token punctuation">{</span>\n        <span class="token comment">/// 不是生产环境</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>bool<span class="token punctuation">.</span><span class="token function">fromEnvironment</span><span class="token punctuation">(</span><span class="token string">&quot;dart.vm.product&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">/// 打印日志</span>\n          dio<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">HttpInterceptorsLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n          <span class="token comment">/// 忽略握手</span>\n          <span class="token function">getHttpAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;错误：获取《bool.fromEnvironment(&quot;dart.vm.product&quot;)》错误&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      dio<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">HttpInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> dio<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h1 id="在线代码" tabindex="-1"><a class="header-anchor" href="#在线代码" aria-hidden="true">#</a> 在线代码</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://replit.com/languages/dart\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="代码规范" tabindex="-1"><a class="header-anchor" href="#代码规范" aria-hidden="true">#</a> 代码规范</h1><p>咸鱼推荐https://juejin.cn/post/7009148829366747173</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://dart.dev/guides/language/effective-dart/documentation\n\nhttps://github.com/alibaba/flutter-go/blob/master/Flutter_Go%20%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83.md\n\n## 获取点击元素位置\n\n```dart\n  final RenderBox renderBox = tabkey.currentContext.findRenderObject();\n    Size _size = renderBox.size\n\n    Offset _offset = renderBox.localToGlobal(Offset.zero);\n\n\nhttps://www.jianshu.com/p/263534bac15d\n  // RenderAbstractViewport? viewport = RenderAbstractViewport.of(_renderBox);\n\n    // /// Distance between top edge of screen and MyWidget bottom edge\n    // var offsetToRevealLeading = viewport!.getOffsetToReveal(_renderBox!, 0.0);\n    // print(offsetToRevealLeading);\n\n    // /// Distance between bottom edge of screen and MyWidget top edge\n    // var offsetToRevealTrailingEdge = viewport.getOffsetToReveal(_renderBox!, 1.0);\n    // print(offsetToRevealTrailingEdge);\n\n\n\nif (MediaQuery.of(context).viewInsets.bottom == 0) {\n        //关闭键盘\n} else {\n        //显示键盘\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h1 id="设计规范" tabindex="-1"><a class="header-anchor" href="#设计规范" aria-hidden="true">#</a> 设计规范</h1><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>material<span class="token punctuation">.</span>io<span class="token operator">/</span>design<span class="token operator">/</span>typography<span class="token operator">/</span>the<span class="token operator">-</span>type<span class="token operator">-</span>system<span class="token punctuation">.</span>html#type<span class="token operator">-</span>scale\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="动画" tabindex="-1"><a class="header-anchor" href="#动画" aria-hidden="true">#</a> 动画</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://rive.app/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="http限制" tabindex="-1"><a class="header-anchor" href="#http限制" aria-hidden="true">#</a> http限制</h1><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>https://blog.csdn.net/weixin_44137575/article/details/109045633\n\nandroid:\n  AndroidManifest.xml\n      &lt;application\n          android:name=&quot;io.flutter.app.FlutterApplication&quot;\n          android:label=&quot;织家BOS&quot;\n          android:icon=&quot;@mipmap/ic_launcher&quot;\n          android:usesCleartextTraffic=&quot;true&quot; // +\n          android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt; // +\n\nres下新建xml文件夹 》新建 network_security_config.xml 文件》\n\n  <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trust-anchors</span><span class="token punctuation">&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>certificates</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>system<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trust-anchors</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-config</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">&gt;</span></span>\n\n\nios：xcode\n  info。plist\n   App Transport Security Settings\n      Allow Arbitrary Loads   YES\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>',438),t={},e=(0,a(3744).Z)(t,[["render",function(n,s){return p}]])},3744:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,p]of s)a[n]=p;return a}}}]);